//var _0x33c3=['MarcoLogicoController','$scope','$location','MarcoLogicoService','$cookies','$cookieStore','$routeParams','$sce','#ContainerFinal\x20','hide','#menuAyuda2\x20','#btnFinalizar','#btnEditarMarco','getElementById','Marco','guardarMarco','IdProyecto','proyecto','datos','Fin1','Fin2','Fin3','Fin4','Proposito1','Proposito2','Proposito3','Resultado1','Resultado2','Resultado3','Actividad1','Actividad2','Actividad4','Proposito4','Resultado4','success','Ups!\x20Faltan\x20campos\x20por\x20completar','show','Registro\x20Exitoso','#238276','url','/MarcoL','Etapa','#btnGuardarMarco','AbrirProyecto','LLenarMarco','marco','ConsultarMarco','#containerMarcoLogico\x20','#menuAyuda','abrirReporte1','controller'];(function(_0x2da5d4,_0x52ce16){var _0x56c53b=function(_0x4cfc5f){while(--_0x4cfc5f){_0x2da5d4['push'](_0x2da5d4['shift']());}};_0x56c53b(++_0x52ce16);}(_0x33c3,0x164));var _0x7d9a=function(_0x231fd0,_0x4f680a){_0x231fd0=_0x231fd0-0x0;var _0x5b4826=_0x33c3[_0x231fd0];return _0x5b4826;};ManualApp[_0x7d9a('0x0')](_0x7d9a('0x1'),[_0x7d9a('0x2'),'$rootScope',_0x7d9a('0x3'),_0x7d9a('0x4'),_0x7d9a('0x5'),_0x7d9a('0x6'),_0x7d9a('0x7'),_0x7d9a('0x8'),function(_0x39dc18,_0x13fadf,_0x2ca6a7,_0x58980d,_0x1f346a,_0x3169b3,_0x4a86d1,_0x27eaea){$(_0x7d9a('0x9'))[_0x7d9a('0xa')]();$(_0x7d9a('0xb'))[_0x7d9a('0xa')]();$('#ContainerFinal')['hide']();$(_0x7d9a('0xc'))[_0x7d9a('0xa')]();$(_0x7d9a('0xd'))[_0x7d9a('0xa')]();_0x39dc18['PauseAudio']=function(){setTimeout(function(){var _0x136b16=document[_0x7d9a('0xe')]('audio-player');_0x136b16['pause']();},0x3e8);};_0x39dc18[_0x7d9a('0xf')]={'IdMarco':'','IdProyecto':'','Actividad1':'','Actividad2':'','Actividad3':'','Actividad4':'','Resultado1':'','Resultado2':'','Resultado3':'','Resultado4':'','Proposito1':'','Proposito2':'','Proposito3':'','Proposito4':'','Fin1':'','Fin2':'','Fin3':'','Fin4':''};_0x39dc18[_0x7d9a('0x10')]=function(){_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x11')]=_0x13fadf[_0x7d9a('0x12')][_0x7d9a('0x13')]['id'];if(_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x14')]==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x15')]==null||_0x39dc18['Marco'][_0x7d9a('0x16')]==null||_0x39dc18['Marco'][_0x7d9a('0x17')]==null||_0x39dc18['Marco'][_0x7d9a('0x18')]==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x19')]==null||_0x39dc18['Marco'][_0x7d9a('0x1a')]==null||_0x39dc18[_0x7d9a('0xf')]['Proposito4']==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1b')]==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1c')]==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1d')]==null||_0x39dc18[_0x7d9a('0xf')]['Resultado4']==null||_0x39dc18['Marco'][_0x7d9a('0x1e')]==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1f')]==null||_0x39dc18[_0x7d9a('0xf')]['Actividad2']==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x20')]==null||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x14')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x15')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x16')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x17')]==''||_0x39dc18['Marco'][_0x7d9a('0x18')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x19')]==''||_0x39dc18['Marco'][_0x7d9a('0x1a')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x21')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1b')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1c')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1d')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x22')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1e')]==''||_0x39dc18[_0x7d9a('0xf')]['Actividad2']==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x1f')]==''||_0x39dc18[_0x7d9a('0xf')][_0x7d9a('0x20')]==''){alertify[_0x7d9a('0x23')](_0x7d9a('0x24'));return![];}else{waitingDialog[_0x7d9a('0x25')]();_0x58980d['GuardarMarco'](_0x39dc18[_0x7d9a('0xf')],function(_0x42efd8){if(_0x42efd8[_0x7d9a('0x23')]){waitingDialog['hide']();swal({'text':_0x7d9a('0x26'),'confirmButtonColor':_0x7d9a('0x27'),'width':'25%'});_0x2ca6a7[_0x7d9a('0x28')](_0x7d9a('0x29'));_0x13fadf[_0x7d9a('0x12')][_0x7d9a('0x13')][_0x7d9a('0x2a')]=0xb;$(_0x7d9a('0xc'))[_0x7d9a('0x25')]();$(_0x7d9a('0x2b'))[_0x7d9a('0xa')]();$('#btnEditarMarco')[_0x7d9a('0x25')]();}});}};_0x58980d[_0x7d9a('0x2c')](_0x13fadf[_0x7d9a('0x12')][_0x7d9a('0x13')]['id'],function(_0x3c08c9){waitingDialog[_0x7d9a('0x25')]();if(_0x3c08c9['success']){_0x13fadf[_0x7d9a('0x12')][_0x7d9a('0x13')]['Etapa']=_0x3c08c9[_0x7d9a('0x12')][_0x7d9a('0x2a')];if(_0x13fadf[_0x7d9a('0x12')]['datos']['Etapa']==0xa){_0x58980d[_0x7d9a('0x2d')](_0x13fadf[_0x7d9a('0x12')][_0x7d9a('0x13')]['id'],function(_0x1644be){if(_0x1644be[_0x7d9a('0x23')]){_0x39dc18[_0x7d9a('0xf')]=_0x1644be[_0x7d9a('0x2e')];}waitingDialog[_0x7d9a('0xa')]();});}else{_0x58980d[_0x7d9a('0x2f')](_0x13fadf['proyecto'][_0x7d9a('0x13')]['id'],function(_0x36574c){if(_0x36574c[_0x7d9a('0x23')]){$('#btnFinalizar')[_0x7d9a('0x25')]();$(_0x7d9a('0xd'))[_0x7d9a('0x25')]();$('#btnGuardarMarco')['hide']();_0x39dc18[_0x7d9a('0xf')]=_0x36574c[_0x7d9a('0x2e')];}waitingDialog[_0x7d9a('0xa')]();});}}});_0x39dc18['Finalizar']=function(){$(_0x7d9a('0x30'))['hide']();$(_0x7d9a('0x31'))[_0x7d9a('0xa')]();$(_0x7d9a('0x9'))[_0x7d9a('0x25')]();$(_0x7d9a('0xb'))[_0x7d9a('0x25')]();};_0x39dc18[_0x7d9a('0x32')]=function(){_0x2ca6a7['url']('/Reporte');};}]);
//var _0x3095 = ["\x4D\x61\x72\x63\x6F\x4C\x6F\x67\x69\x63\x6F\x43\x6F\x6E\x74\x72\x6F\x6C\x6C\x65\x72", "\x24\x73\x63\x6F\x70\x65", "\x24\x72\x6F\x6F\x74\x53\x63\x6F\x70\x65", "\x24\x6C\x6F\x63\x61\x74\x69\x6F\x6E", "\x4D\x61\x72\x63\x6F\x4C\x6F\x67\x69\x63\x6F\x53\x65\x72\x76\x69\x63\x65", "\x24\x63\x6F\x6F\x6B\x69\x65\x73", "\x24\x63\x6F\x6F\x6B\x69\x65\x53\x74\x6F\x72\x65", "\x24\x72\x6F\x75\x74\x65\x50\x61\x72\x61\x6D\x73", "\x24\x73\x63\x65", "\x68\x69\x64\x65", "\x23\x43\x6F\x6E\x74\x61\x69\x6E\x65\x72\x46\x69\x6E\x61\x6C\x20", "\x23\x6D\x65\x6E\x75\x41\x79\x75\x64\x61\x32\x20", "\x23\x43\x6F\x6E\x74\x61\x69\x6E\x65\x72\x46\x69\x6E\x61\x6C", "\x23\x62\x74\x6E\x46\x69\x6E\x61\x6C\x69\x7A\x61\x72", "\x23\x62\x74\x6E\x45\x64\x69\x74\x61\x72\x4D\x61\x72\x63\x6F", "\x50\x61\x75\x73\x65\x41\x75\x64\x69\x6F", "\x61\x75\x64\x69\x6F\x2D\x70\x6C\x61\x79\x65\x72", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64", "\x70\x61\x75\x73\x65", "\x4D\x61\x72\x63\x6F", "", "\x67\x75\x61\x72\x64\x61\x72\x4D\x61\x72\x63\x6F", "\x49\x64\x50\x72\x6F\x79\x65\x63\x74\x6F", "\x69\x64", "\x64\x61\x74\x6F\x73", "\x70\x72\x6F\x79\x65\x63\x74\x6F", "\x46\x69\x6E\x31", "\x46\x69\x6E\x32", "\x46\x69\x6E\x33", "\x46\x69\x6E\x34", "\x50\x72\x6F\x70\x6F\x73\x69\x74\x6F\x31", "\x50\x72\x6F\x70\x6F\x73\x69\x74\x6F\x32", "\x50\x72\x6F\x70\x6F\x73\x69\x74\x6F\x33", "\x50\x72\x6F\x70\x6F\x73\x69\x74\x6F\x34", "\x52\x65\x73\x75\x6C\x74\x61\x64\x6F\x31", "\x52\x65\x73\x75\x6C\x74\x61\x64\x6F\x32", "\x52\x65\x73\x75\x6C\x74\x61\x64\x6F\x33", "\x52\x65\x73\x75\x6C\x74\x61\x64\x6F\x34", "\x41\x63\x74\x69\x76\x69\x64\x61\x64\x31", "\x41\x63\x74\x69\x76\x69\x64\x61\x64\x32", "\x41\x63\x74\x69\x76\x69\x64\x61\x64\x34", "\x55\x70\x73\x21\x20\x46\x61\x6C\x74\x61\x6E\x20\x63\x61\x6D\x70\x6F\x73\x20\x70\x6F\x72\x20\x63\x6F\x6D\x70\x6C\x65\x74\x61\x72", "\x73\x75\x63\x63\x65\x73\x73", "\x73\x68\x6F\x77", "\x52\x65\x67\x69\x73\x74\x72\x6F\x20\x45\x78\x69\x74\x6F\x73\x6F", "\x23\x32\x33\x38\x32\x37\x36", "\x32\x35\x25", "\x2F\x4D\x61\x72\x63\x6F\x4C", "\x75\x72\x6C", "\x45\x74\x61\x70\x61", "\x23\x62\x74\x6E\x47\x75\x61\x72\x64\x61\x72\x4D\x61\x72\x63\x6F", "\x6D\x61\x72\x63\x6F", "\x46\x69\x6E\x61\x6C\x69\x7A\x61\x72", "\x23\x63\x6F\x6E\x74\x61\x69\x6E\x65\x72\x4D\x61\x72\x63\x6F\x4C\x6F\x67\x69\x63\x6F\x20", "\x23\x6D\x65\x6E\x75\x41\x79\x75\x64\x61", "\x61\x62\x72\x69\x72\x52\x65\x70\x6F\x72\x74\x65\x31", "\x2F\x52\x65\x70\x6F\x72\x74\x65", "\x63\x6F\x6E\x74\x72\x6F\x6C\x6C\x65\x72"]; ManualApp[_0x3095[57]](_0x3095[0], [_0x3095[1], _0x3095[2], _0x3095[3], _0x3095[4], _0x3095[5], _0x3095[6], _0x3095[7], _0x3095[8], function (_0xf836x1, _0xf836x2, _0xf836x3, _0xf836x4, _0xf836x5, _0xf836x6, _0xf836x7, _0xf836x8) { $(_0x3095[10])[_0x3095[9]](); $(_0x3095[11])[_0x3095[9]](); $(_0x3095[12])[_0x3095[9]](); $(_0x3095[13])[_0x3095[9]](); $(_0x3095[14])[_0x3095[9]](); _0xf836x1[_0x3095[15]] = function () { setTimeout(function () { var _0xf836x9 = document[_0x3095[17]](_0x3095[16]); _0xf836x9[_0x3095[18]]() }, 1000) }; _0xf836x1[_0x3095[19]] = { IdMarco: _0x3095[20], IdProyecto: _0x3095[20], Actividad1: _0x3095[20], Actividad2: _0x3095[20], Actividad3: _0x3095[20], Actividad4: _0x3095[20], Resultado1: _0x3095[20], Resultado2: _0x3095[20], Resultado3: _0x3095[20], Resultado4: _0x3095[20], Proposito1: _0x3095[20], Proposito2: _0x3095[20], Proposito3: _0x3095[20], Proposito4: _0x3095[20], Fin1: _0x3095[20], Fin2: _0x3095[20], Fin3: _0x3095[20], Fin4: _0x3095[20] }; _0xf836x1[_0x3095[21]] = function () { _0xf836x1[_0x3095[19]][_0x3095[22]] = _0xf836x2[_0x3095[25]][_0x3095[24]][_0x3095[23]]; if (_0xf836x1[_0x3095[19]][_0x3095[26]] == null || _0xf836x1[_0x3095[19]][_0x3095[27]] == null || _0xf836x1[_0x3095[19]][_0x3095[28]] == null || _0xf836x1[_0x3095[19]][_0x3095[29]] == null || _0xf836x1[_0x3095[19]][_0x3095[30]] == null || _0xf836x1[_0x3095[19]][_0x3095[31]] == null || _0xf836x1[_0x3095[19]][_0x3095[32]] == null || _0xf836x1[_0x3095[19]][_0x3095[33]] == null || _0xf836x1[_0x3095[19]][_0x3095[34]] == null || _0xf836x1[_0x3095[19]][_0x3095[35]] == null || _0xf836x1[_0x3095[19]][_0x3095[36]] == null || _0xf836x1[_0x3095[19]][_0x3095[37]] == null || _0xf836x1[_0x3095[19]][_0x3095[38]] == null || _0xf836x1[_0x3095[19]][_0x3095[39]] == null || _0xf836x1[_0x3095[19]][_0x3095[39]] == null || _0xf836x1[_0x3095[19]][_0x3095[40]] == null || _0xf836x1[_0x3095[19]][_0x3095[26]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[27]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[28]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[29]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[30]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[31]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[32]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[33]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[34]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[35]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[36]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[37]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[38]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[39]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[39]] == _0x3095[20] || _0xf836x1[_0x3095[19]][_0x3095[40]] == _0x3095[20]) { alertify[_0x3095[42]](_0x3095[41]); return false } else { waitingDialog[_0x3095[43]](); _0xf836x4.GuardarMarco(_0xf836x1.Marco, function (_0xf836xa) { if (_0xf836xa[_0x3095[42]]) { waitingDialog[_0x3095[9]](); swal({ text: _0x3095[44], confirmButtonColor: _0x3095[45], width: _0x3095[46] }); _0xf836x3[_0x3095[48]](_0x3095[47]); _0xf836x2[_0x3095[25]][_0x3095[24]][_0x3095[49]] = 11; $(_0x3095[13])[_0x3095[43]](); $(_0x3095[50])[_0x3095[9]](); $(_0x3095[14])[_0x3095[43]]() } }) } }; _0xf836x4.AbrirProyecto(_0xf836x2[_0x3095[25]][_0x3095[24]][_0x3095[23]], function (_0xf836xa) { waitingDialog[_0x3095[43]](); if (_0xf836xa[_0x3095[42]]) { _0xf836x2[_0x3095[25]][_0x3095[24]][_0x3095[49]] = _0xf836xa[_0x3095[25]][_0x3095[49]]; if (_0xf836x2[_0x3095[25]][_0x3095[24]][_0x3095[49]] == 10) { _0xf836x4.LLenarMarco(_0xf836x2[_0x3095[25]][_0x3095[24]][_0x3095[23]], function (_0xf836xa) { if (_0xf836xa[_0x3095[42]]) { _0xf836x1[_0x3095[19]] = _0xf836xa[_0x3095[51]] }; waitingDialog[_0x3095[9]]() }) } else { _0xf836x4.ConsultarMarco(_0xf836x2[_0x3095[25]][_0x3095[24]][_0x3095[23]], function (_0xf836xa) { if (_0xf836xa[_0x3095[42]]) { $(_0x3095[13])[_0x3095[43]](); $(_0x3095[14])[_0x3095[43]](); $(_0x3095[50])[_0x3095[9]](); _0xf836x1[_0x3095[19]] = _0xf836xa[_0x3095[51]] }; waitingDialog[_0x3095[9]]() }) } } }); _0xf836x1[_0x3095[52]] = function () { $(_0x3095[53])[_0x3095[9]](); $(_0x3095[54])[_0x3095[9]](); $(_0x3095[10])[_0x3095[43]](); $(_0x3095[11])[_0x3095[43]]() }; _0xf836x1[_0x3095[55]] = function () { _0xf836x3[_0x3095[48]](_0x3095[56]) } }])

ManualApp.controller('MarcoLogicoController',
    ['$scope', '$rootScope', '$location', 'MarcoLogicoService', '$cookies', '$cookieStore', '$routeParams', '$sce',
        function ($scope, $rootScope, $location, MarcoLogicoService, $cookies, $cookieStore, $routeParams, $sce) {
            
            $("#ContainerFinal ").hide();
            $("#menuAyuda2 ").hide();
            $("#ContainerFinal").hide();
            $("#btnFinalizar").hide();
            $("#btnEditarMarco").hide();

            //Funciòn para pausar el audio cuando se abra el video
            $scope.PauseAudio = function () {
                setTimeout(function () {
                    var audio = document.getElementById("audio-player");
                    audio.pause();
                }, 1000);
            }

            $scope.Marco = {
                IdMarco:"", 
                IdProyecto: "",
                Actividad1 :"",
                Actividad2 :"",
                Actividad3 :"",
                Actividad4 :"",
                Resultado1 :"",
                Resultado2 :"",
                Resultado3 :"",
                Resultado4 :"",
                Proposito1 :"",
                Proposito2 :"",
                Proposito3 :"",
                Proposito4 :"",
                Fin1 :"",
                Fin2:"", 
                Fin3 :"",
                Fin4 :""
            }

            $scope.guardarMarco = function () {
                $scope.Marco.IdProyecto = $rootScope.proyecto.datos.id;
                if ($scope.Marco.Fin1==null|| $scope.Marco.Fin2==null || $scope.Marco.Fin3 == null  || $scope.Marco.Fin4 == null 
                   || $scope.Marco.Proposito1 == null || $scope.Marco.Proposito2 == null || $scope.Marco.Proposito3 == null || $scope.Marco.Proposito4 == null
                    || $scope.Marco.Resultado1 == null || $scope.Marco.Resultado2 == null || $scope.Marco.Resultado3 == null || $scope.Marco.Resultado4 == null
                     || $scope.Marco.Actividad1 == null || $scope.Marco.Actividad2 == null || $scope.Marco.Actividad2 == null || $scope.Marco.Actividad4 == null
                    || $scope.Marco.Fin1 == "" || $scope.Marco.Fin2 == "" || $scope.Marco.Fin3 == "" || $scope.Marco.Fin4 == ""
                   || $scope.Marco.Proposito1 == "" || $scope.Marco.Proposito2 == "" || $scope.Marco.Proposito3 == "" || $scope.Marco.Proposito4 == ""
                    || $scope.Marco.Resultado1 == "" || $scope.Marco.Resultado2 == "" || $scope.Marco.Resultado3 == "" || $scope.Marco.Resultado4 == ""
                     || $scope.Marco.Actividad1 == "" || $scope.Marco.Actividad2 == "" || $scope.Marco.Actividad2 == "" || $scope.Marco.Actividad4 == ""

                    ) {
                    alertify.success("Ups! Faltan campos por completar");
                    return false;
                } else {
                    waitingDialog.show();
                    MarcoLogicoService.GuardarMarco($scope.Marco, function (response) {

                        if (response.success) {
                            waitingDialog.hide();
                            swal({
                                text: 'Registro Exitoso',
                                confirmButtonColor: '#238276',
                                width: '25%'

                            })

                            $location.url("/MarcoL");
                            $rootScope.proyecto.datos.Etapa = 11;
                            $("#btnFinalizar").show();
                            $("#btnGuardarMarco").hide();
                            $("#btnEditarMarco").show();
                          
                        }
                    })
                   
                }
               
            }


          

            MarcoLogicoService.AbrirProyecto($rootScope.proyecto.datos.id, function (response) {
                waitingDialog.show();
                if (response.success) {
                    $rootScope.proyecto.datos.Etapa = response.Result.Etapa;

                    if ($rootScope.proyecto.datos.Etapa == 10) {
                        MarcoLogicoService.LLenarMarco($rootScope.proyecto.datos.id, function (response) {

                            if (response.success) {
                                $scope.Marco = response.Result;
                            }
                            waitingDialog.hide();
                        })
                    } else {
                        MarcoLogicoService.ConsultarMarco($rootScope.proyecto.datos.id, function (response) {

                            if (response.success) {
                                $("#btnFinalizar").show();
                                $("#btnEditarMarco").show();
                                $("#btnGuardarMarco").hide();
                                $scope.Marco = response.Result;
                            }
                            waitingDialog.hide();
                        })
                    }
                }
                
            })

            $scope.Finalizar = function() {
                $("#containerMarcoLogico ").hide();
                $("#menuAyuda").hide();
                $("#ContainerFinal ").show();
                $("#menuAyuda2 ").show();
             
            }

         

            $scope.abrirReporte1= function () {
                $location.url("/Reporte");
            }

        }]);