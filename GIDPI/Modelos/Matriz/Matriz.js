//var _0x1c0c = ['EjeY', 'rgba(0,0,0,0.0)', 'rgba(0,0,255,0.6)', 'EjeX', 'EvaluacionCriterios', 'grafica', 'log', '#personaje', '#grafica', '#problema', 'chart', 'container', 'scatter', 'GRAFICA\x20VESTER', 'EJE\x20X', 'EJE\x20Y', 'rgb(100,100,100)', '<b>{series.name}</b><br>', '{point.x}\x20X,\x20{point.y}\x20Y', '.highcharts-root', 'height', 'requestAnimationFrame', 'mozRequestAnimationFrame', 'msRequestAnimationFrame', '.highcharts-yaxis-grid\x20path:first-child', 'attr', 'stroke', 'blue', 'stroke-width', '#container', '<span\x20id=\x22lineaTerror\x22></span>', '#lineaTerror', 'width', '2px', '110px', 'absolute', '.highcharts-button\x20,\x20.highcharts-credits', 'PuntosCriticos', 'PuntosPasivos', 'PuntosIndiferentes', 'Criterio', 'Pasivos', 'Indiferentes', 'Activos', 'puntoAlto', 'sqrt', 'Criticos', 'name', 'Punto\x20Critico:\x20', 'rgba(255,0,0,1)', 'HabilitarEnviar', 'Guardar', 'Debe\x20realizar\x20la\x20matriz\x20de\x20Vester', 'Registro\x20Exitoso', '.notify', 'controller', 'MatrizController', '$scope', '$location', 'MatrizService', '#Panel2', '#problematicaCampo', 'removeAttr', 'disabled', '#ProblematicaTexto', 'hide', '#TituloProblema', '#flechaIzquierda', 'DatosProyecto', 'datos', 'SeriesPuntos', 'PauseAudio', 'getElementById', 'audio-player', 'pause', 'proyecto', 'ConsultarMatriz', 'success', 'DatosMatriz', 'matriz', 'DetalleMat', 'ProblemaGeneral', '#problemasMatriz', 'show', '#ModalOmitir', 'modal', 'static', 'OmitirMatriz', 'url', '/Menu', '.modal-backdrop', 'remove', 'AgregarCampos', 'Problemas', 'push', 'La\x20cantidad\x20de\x20problemas\x20a\x20ingresar\x20debe\x20ser\x20menor\x20de\x2020', 'Agregar', 'Ingrese\x20el\x20problema\x20general', '#238276', '25%', 'Elija\x20la\x20cantidad\x20de\x20problemas\x20a\x20evaluar', 'EliminarCampos', 'mostrar', 'ProblemasCalificar', 'La\x20cantidad\x20mínima\x20de\x20problemas\x20es\x205', 'each', 'Problema', 'Debe\x20llenar\x20todos\x20los\x20campos', 'totalProblemas', 'inArray', 'length', '#comparar\x20li:nth-child(1)', '#mostrar', '#agregarProblemas', '#influeniciaTitulo', 'css', 'Datos', 'sumaEjeY', 'Puntos', 'Calificar', 'splice', '#comparar\x20li:nth-child(', '#ModalConfirmar', 'ConfirmarCalificacion', 'sumaEjeX', 'reduce']; (function (_0x5a8799, _0x5f5965) { var _0x4e4818 = function (_0x415542) { while (--_0x415542) { _0x5a8799['push'](_0x5a8799['shift']()); } }; _0x4e4818(++_0x5f5965); }(_0x1c0c, 0xb5)); var _0x345d = function (_0x5d6f0d, _0x58ad94) { _0x5d6f0d = _0x5d6f0d - 0x0; var _0x57e3be = _0x1c0c[_0x5d6f0d]; return _0x57e3be; }; ManualApp[_0x345d('0x0')](_0x345d('0x1'), [_0x345d('0x2'), '$rootScope', _0x345d('0x3'), _0x345d('0x4'), 'ArbolProblemaService', '$routeParams', '$sce', function (_0x47afb3, _0x1ee8d2, _0x47a895, _0x685c9b, _0x8eef9d, _0x12353a, _0x18ba6b) { $(_0x345d('0x5'))['hide'](); $(_0x345d('0x6'))[_0x345d('0x7')](_0x345d('0x8')); $(_0x345d('0x9'))[_0x345d('0xa')](); $(_0x345d('0xb'))[_0x345d('0xa')](); $(_0x345d('0xc'))[_0x345d('0xa')](); _0x47afb3['Problemas'] = [{ 'Problema': '', 'EjeX': '', 'EjeY': '', 'Criterio': '' }]; _0x47afb3[_0x345d('0xd')] = { 'IdProyecto': _0x1ee8d2['proyecto'][_0x345d('0xe')]['id'], 'IdMatriz': '', 'ProblemaGeneral': '', 'DetalleMat': [{ 'Problema': '', 'EjeX': '', 'EjeY': '', 'Criterio': '' }] }; _0x47afb3[_0x345d('0xf')] = []; _0x47afb3[_0x345d('0x10')] = function () { setTimeout(function () { var _0x27501e = document[_0x345d('0x11')](_0x345d('0x12')); _0x27501e[_0x345d('0x13')](); }, 0x3e8); }; if (_0x1ee8d2[_0x345d('0x14')] != undefined) { _0x685c9b[_0x345d('0x15')](_0x1ee8d2[_0x345d('0x14')]['datos']['id'], function (_0x4278e1) { if (_0x4278e1[_0x345d('0x16')]) { _0x47afb3[_0x345d('0x17')] = _0x4278e1[_0x345d('0x18')][_0x345d('0x19')]; _0x47afb3[_0x345d('0xd')][_0x345d('0x1a')] = _0x4278e1[_0x345d('0x18')][_0x345d('0x1a')]; $(_0x345d('0x1b'))[_0x345d('0xa')](); $(_0x345d('0x5'))[_0x345d('0x1c')](); $(_0x345d('0x6'))[_0x345d('0xa')](); $(_0x345d('0xb'))[_0x345d('0x1c')](); $('#BtnGuardar')[_0x345d('0xa')](); } else { $(_0x345d('0x1d'))[_0x345d('0x1e')]({ 'backdrop': _0x345d('0x1f'), 'keyboard': ![] }); $(_0x345d('0x1d'))[_0x345d('0x1e')](_0x345d('0x1c')); } }); } _0x47afb3[_0x345d('0x20')] = function () { _0x685c9b[_0x345d('0x20')](_0x1ee8d2[_0x345d('0x14')]['datos']['id'], function (_0xf1189d) { if (_0xf1189d[_0x345d('0x16')]) { _0x47a895[_0x345d('0x21')](_0x345d('0x22')); $(_0x345d('0x23'))[_0x345d('0x24')](); } }); }; _0x47afb3[_0x345d('0x25')] = function () { if (_0x47afb3[_0x345d('0x26')]['length'] < 0x19) { _0x47afb3['Problemas'][_0x345d('0x27')]({ 'Problema': '' }); } else { alert(_0x345d('0x28')); return ![]; } }; _0x47afb3[_0x345d('0x29')] = function (_0x392ec4) { console['log'](_0x392ec4); if (_0x47afb3[_0x345d('0xd')][_0x345d('0x1a')] == '') { swal({ 'text': _0x345d('0x2a'), 'confirmButtonColor': _0x345d('0x2b'), 'width': _0x345d('0x2c') }); return; } if (_0x392ec4 == undefined) { swal({ 'text': _0x345d('0x2d'), 'confirmButtonColor': _0x345d('0x2b'), 'width': '25%' }); return; } _0x47afb3[_0x345d('0x26')] = [{ 'Problema': '', 'EjeX': '', 'EjeY': '', 'Criterio': '' }]; var _0x2b96d2 = parseInt(_0x392ec4); for (var _0x4b63eb = 0x0; _0x4b63eb < _0x2b96d2; _0x4b63eb++) { _0x47afb3[_0x345d('0x26')][_0x345d('0x27')]({ 'Problema': '' }); } }; _0x47afb3[_0x345d('0x2e')] = function (_0x50ce2c) { if (_0x47afb3[_0x345d('0x26')]['length'] > 0x1) { _0x47afb3[_0x345d('0x26')]['splice'](_0x50ce2c, 0x1); } }; _0x47afb3[_0x345d('0x2f')] = function () { _0x47afb3[_0x345d('0x30')] = []; if (_0x47afb3[_0x345d('0x26')]['length'] < 0x5) { alertify[_0x345d('0x16')](_0x345d('0x31')); return; } else { var _0x2c684d = 0x0; $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x31f1f5, _0x4e6508) { if (_0x4e6508[_0x345d('0x33')] == '') { _0x2c684d++; } }); if (_0x2c684d != 0x0) { alertify[_0x345d('0x16')](_0x345d('0x34')); return; } } _0x47afb3[_0x345d('0x35')] = []; $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x2ed411, _0x40eed5) { if (_0x2ed411 != 0x0) { _0x47afb3[_0x345d('0x30')]['push']({ 'Problema': _0x40eed5[_0x345d('0x33')] }); } var _0x289356 = _0x40eed5[_0x345d('0x33')]; _0x47afb3[_0x345d('0x35')][_0x345d('0x27')]({ 'problema': _0x289356 }); }); var _0x53f0c4 = []; $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x4c049f, _0x1002a5) { if ($[_0x345d('0x36')](_0x1002a5[_0x345d('0x33')], _0x53f0c4) === -0x1) { _0x53f0c4[_0x345d('0x27')](_0x1002a5[_0x345d('0x33')]); } }); if (_0x53f0c4[_0x345d('0x37')] > 0x0 && _0x53f0c4[_0x345d('0x37')] < _0x47afb3['Problemas'][_0x345d('0x37')]) { swal({ 'text': 'Ups!\x20Tienes\x20problemas\x20repetidos', 'confirmButtonColor': _0x345d('0x2b'), 'width': _0x345d('0x2c') }); return ![]; } _0x47afb3['ProblemaComparante'] = _0x47afb3[_0x345d('0x26')][0x0][_0x345d('0x33')]; setTimeout(function () { $(_0x345d('0x38'))['show'](); }, 0x64); $('#Problematicas')[_0x345d('0xa')](); $(_0x345d('0x39'))[_0x345d('0xa')](); $(_0x345d('0x3a'))[_0x345d('0xa')](); $('#problemasMatriz')[_0x345d('0xa')](); $(_0x345d('0x3b'))[_0x345d('0x3c')]({ 'display': 'block' }); $(_0x345d('0x6'))[_0x345d('0x7')]('disabled'); $(_0x345d('0xc'))[_0x345d('0x1c')](); }; var _0x104792 = 0x0; _0x47afb3['sumaEjeX'] = 0x0; _0x47afb3[_0x345d('0x3d')] = []; _0x47afb3[_0x345d('0x3e')] = []; _0x47afb3[_0x345d('0x3f')] = []; var _0x46f6c3 = 0x0; _0x47afb3[_0x345d('0x40')] = function (_0xba668e, _0x1c9c54, _0x5cad4b) { _0x46f6c3 = parseInt(_0x46f6c3) + parseInt(_0x1c9c54); _0x47afb3[_0x345d('0x3e')]['push'](parseInt(_0x1c9c54)); _0x47afb3[_0x345d('0x30')][_0x345d('0x41')](_0xba668e, 0x1); setTimeout(function () { $(_0x345d('0x42') + (_0xba668e + 0x1) + ')')[_0x345d('0x1c')](); }, 0x64); if (_0x47afb3[_0x345d('0x30')][_0x345d('0x37')] == 0x0) { $(_0x345d('0x43'))[_0x345d('0x1e')]({ 'backdrop': 'static', 'keyboard': ![] }); $('#ModalConfirmar')[_0x345d('0x1e')](_0x345d('0x1c')); } }; _0x47afb3[_0x345d('0x44')] = function (_0x249e98) { if (_0x249e98 == 0x1) { _0x47afb3[_0x345d('0x45')] = _0x46f6c3; } else { $['each'](_0x47afb3[_0x345d('0x26')], function (_0x35cc7b, _0x554e58) { if (_0x35cc7b != _0x104792) { _0x47afb3[_0x345d('0x30')][_0x345d('0x27')]({ 'Problema': _0x554e58[_0x345d('0x33')] }); } }); setTimeout(function () { $(_0x345d('0x38'))[_0x345d('0x1c')](); }, 0x64); return ![]; } _0x46f6c3 = 0x0; _0x47afb3[_0x345d('0x3e')]['splice'](_0x104792, 0x0, 0x0); _0x47afb3['Datos'][_0x345d('0x27')](_0x47afb3[_0x345d('0x3e')]); _0x47afb3[_0x345d('0x3e')] = []; _0x47afb3[_0x345d('0x26')][_0x104792]['EjeX'] = _0x47afb3['sumaEjeX']; _0x47afb3[_0x345d('0x45')] = 0x0; _0x104792++; var _0x13b39c = _0x104792 + 0x1; if (_0x13b39c > _0x47afb3[_0x345d('0x26')][_0x345d('0x37')]) { var _0x162dde = (_0x38a13e, _0x4676cb) =>_0x38a13e['map']((_0x2bf997, _0x1d1d28) =>_0x4676cb[_0x1d1d28] + _0x2bf997); var _0x34ab48 = function (_0x5f25f8, _0x58ca4f) { return _0x5f25f8 + _0x58ca4f; }; var _0x91d34d = _0x47afb3[_0x345d('0x3d')][_0x345d('0x46')](_0x162dde); $['each'](_0x91d34d, function (_0xc43035, _0x5620bc) { _0x47afb3['Problemas'][_0xc43035][_0x345d('0x47')] = _0x5620bc; }); var _0x4f8c98 = { 'name': _0x345d('0x26'), 'color': _0x345d('0x48'), 'data': [[0x0, 0x0]] }; _0x47afb3[_0x345d('0xf')]['push'](_0x4f8c98); $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x2a83dd, _0x1021a8) { var _0x503aa6 = { 'name': _0x1021a8['Problema'], 'color': _0x345d('0x49'), 'data': [[_0x1021a8[_0x345d('0x4a')], _0x1021a8[_0x345d('0x47')]]] }; _0x47afb3['SeriesPuntos']['push'](_0x503aa6); }); _0x47afb3[_0x345d('0x4b')](); _0x47afb3[_0x345d('0x4c')](); console[_0x345d('0x4d')](_0x47afb3[_0x345d('0x26')]); _0x104792 = 0x0; return ![]; } _0x47afb3['ProblemaComparante'] = _0x47afb3[_0x345d('0x26')][_0x104792]['Problema']; $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x3d877e, _0x2fd0a7) { if (_0x3d877e != _0x104792) { _0x47afb3[_0x345d('0x30')][_0x345d('0x27')]({ 'Problema': _0x2fd0a7['Problema'] }); } }); setTimeout(function () { $('#comparar\x20li:nth-child(1)')['show'](); }, 0x64); }; _0x47afb3['grafica'] = function () { $(_0x345d('0x4e'))[_0x345d('0xa')](); $(_0x345d('0x4f'))[_0x345d('0x1c')](); $(_0x345d('0x50'))[_0x345d('0xa')](); $(_0x345d('0x3b'))[_0x345d('0xa')](); Highcharts[_0x345d('0x51')](_0x345d('0x52'), { 'chart': { 'type': _0x345d('0x53'), 'height': 0x1e0 }, 'title': { 'text': _0x345d('0x54') }, 'xAxis': { 'title': { 'enabled': !![], 'text': _0x345d('0x55') }, 'startOnTick': ![], 'endOnTick': ![], 'showLastLabel': !![], 'allowDecimals': ![] }, 'yAxis': { 'title': { 'text': _0x345d('0x56') }, 'startOnTick': ![], 'endOnTick': !![], 'showLastLabel': !![], 'allowDecimals': ![] }, 'legend': { 'enabled': ![] }, 'plotOptions': { 'scatter': { 'marker': { 'radius': 0x5, 'states': { 'hover': { 'enabled': !![], 'lineColor': _0x345d('0x57') } } }, 'states': { 'hover': { 'marker': { 'enabled': ![] } } }, 'tooltip': { 'headerFormat': _0x345d('0x58'), 'pointFormat': _0x345d('0x59') } } }, 'series': _0x47afb3[_0x345d('0xf')] }); console[_0x345d('0x4d')](_0x47afb3[_0x345d('0xf')]); var _0x2895eb = $('.highcharts-root')['width']() / 0x2 + 0x1b; var _0x4d686e = $(_0x345d('0x5a'))[_0x345d('0x5b')](); var _0x307639 = window[_0x345d('0x5c')] || window[_0x345d('0x5d')] || window['webkitRequestAnimationFrame'] || window[_0x345d('0x5e')];; function _0x55f3ae() { $(_0x345d('0x5f'))[_0x345d('0x60')]('d', 'M\x20' + _0x2895eb + '\x2052\x20L\x20' + _0x2895eb + '\x20' + (_0x4d686e - 0x3c) + '')[_0x345d('0x60')](_0x345d('0x61'), _0x345d('0x62'))['attr'](_0x345d('0x63'), '2'); _0x307639(_0x55f3ae); } _0x307639(_0x55f3ae); $(_0x345d('0x64'))['prepend'](_0x345d('0x65')); $(_0x345d('0x66'))['css']({ 'width': $(_0x345d('0x5a'))[_0x345d('0x67')]() - 0x47 + 'px', 'height': _0x345d('0x68'), 'top': _0x4d686e / 0x2 - 0x8 + 'px', 'left': _0x345d('0x69'), 'background': _0x345d('0x62'), 'z-index': '1', 'position': _0x345d('0x6a') }); $(_0x345d('0x6b'))[_0x345d('0xa')](); }; _0x47afb3['EvaluacionCriterios'] = function () { debugger; var _0x11161b = parseInt(_0x47afb3[_0x345d('0x26')][_0x345d('0x37')]) * 0x3 - 0x3; var _0x3b9065 = 0x0; var _0x3d1734 = 0x0; var _0x2bfe03 = 0x0; var _0x49a22e = 0x0; $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x4b9b0a, _0x1fc160) { if (_0x1fc160['EjeY'] >= _0x3d1734) { _0x3d1734 = _0x1fc160['EjeY']; _0x49a22e = (parseInt(_0x3d1734) + 0x1) / 0x2; } if (_0x1fc160[_0x345d('0x4a')] >= _0x2bfe03) { _0x2bfe03 = _0x1fc160[_0x345d('0x4a')]; _0x3b9065 = parseInt(_0x2bfe03) / 0x2; } }); console[_0x345d('0x4d')](_0x49a22e); console[_0x345d('0x4d')](_0x3b9065); _0x47afb3[_0x345d('0x6c')] = []; _0x47afb3['PuntosActivos'] = []; _0x47afb3[_0x345d('0x6d')] = []; _0x47afb3[_0x345d('0x6e')] = []; $['each'](_0x47afb3[_0x345d('0x26')], function (_0x5ed58c, _0x301b6c) { if (_0x301b6c[_0x345d('0x4a')] <= _0x3b9065 && _0x301b6c[_0x345d('0x47')] >= _0x49a22e) { _0x47afb3[_0x345d('0x26')][_0x5ed58c][_0x345d('0x6f')] = _0x345d('0x70'); } else if (_0x301b6c[_0x345d('0x4a')] > _0x3b9065 && _0x301b6c[_0x345d('0x47')] > _0x49a22e) { _0x47afb3[_0x345d('0x26')][_0x5ed58c][_0x345d('0x6f')] = 'Criticos'; } else if (_0x301b6c[_0x345d('0x4a')] < _0x3b9065 && _0x301b6c[_0x345d('0x47')] < _0x49a22e) { _0x47afb3[_0x345d('0x26')][_0x5ed58c][_0x345d('0x6f')] = _0x345d('0x71'); } else if (_0x301b6c[_0x345d('0x4a')] >= _0x3b9065 && _0x301b6c['EjeY'] <= _0x49a22e) { _0x47afb3[_0x345d('0x26')][_0x5ed58c][_0x345d('0x6f')] = _0x345d('0x72'); } }); var _0x1ab8af = 0x0; var _0x5061de = 0x0; _0x47afb3[_0x345d('0x73')] = 0x0; $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x2106c5, _0x4348df) { var _0x296a04 = parseInt(_0x4348df[_0x345d('0x4a')]) + parseInt(_0x4348df[_0x345d('0x47')]); _0x5061de = Math[_0x345d('0x74')](_0x296a04); if (_0x5061de > _0x1ab8af) { _0x1ab8af = _0x5061de; _0x47afb3[_0x345d('0x73')] = _0x2106c5; } }); if (_0x47afb3[_0x345d('0x26')][_0x47afb3['puntoAlto']]['Criterio'] == _0x345d('0x70')) { _0x1ab8af = 0x0; $['each'](_0x47afb3[_0x345d('0x26')], function (_0x428bc4, _0x4e8e02) { if (_0x4e8e02[_0x345d('0x6f')] == _0x345d('0x72')) { var _0x4b03fd = parseInt(_0x4e8e02[_0x345d('0x4a')]) + parseInt(_0x4e8e02[_0x345d('0x47')]); _0x5061de = Math[_0x345d('0x74')](_0x4b03fd); if (_0x5061de > _0x1ab8af) { _0x1ab8af = _0x5061de; _0x47afb3[_0x345d('0x73')] = _0x428bc4; } } }); } _0x47afb3[_0x345d('0x26')][_0x47afb3[_0x345d('0x73')]][_0x345d('0x6f')] = 'Punto\x20Critico'; $[_0x345d('0x32')](_0x47afb3[_0x345d('0x26')], function (_0x21284e, _0x3b50bf) { if (_0x3b50bf[_0x345d('0x6f')] == _0x345d('0x75')) { _0x47afb3[_0x345d('0x26')][_0x21284e]['Criterio'] = _0x345d('0x72'); } }); $[_0x345d('0x32')](_0x47afb3[_0x345d('0xf')], function (_0x1c6eb5, _0x59a11b) { if (_0x59a11b[_0x345d('0x76')] == _0x47afb3[_0x345d('0x26')][_0x47afb3[_0x345d('0x73')]][_0x345d('0x33')]) { var _0x401299 = { 'name': _0x345d('0x77') + _0x47afb3[_0x345d('0x26')][_0x47afb3[_0x345d('0x73')]][_0x345d('0x33')], 'color': _0x345d('0x78'), 'data': [[_0x47afb3[_0x345d('0x26')][_0x47afb3[_0x345d('0x73')]][_0x345d('0x4a')], _0x47afb3[_0x345d('0x26')][_0x47afb3[_0x345d('0x73')]][_0x345d('0x47')]]] }; _0x47afb3[_0x345d('0xf')][_0x1c6eb5] = _0x401299; } }); }; _0x47afb3[_0x345d('0x79')] = function () { $('#Calificar')[_0x345d('0x60')](_0x345d('0x8'), ![]); }; _0x47afb3[_0x345d('0x7a')] = function () { _0x47afb3['DatosProyecto']['DetalleMat'] = _0x47afb3[_0x345d('0x26')]; if (_0x47afb3[_0x345d('0xd')]['DetalleMat'][0x0][_0x345d('0x6f')] == '') { swal({ 'text': _0x345d('0x7b'), 'confirmButtonColor': _0x345d('0x2b'), 'width': _0x345d('0x2c') }); return; } waitingDialog['show'](); _0x685c9b[_0x345d('0x7a')](_0x47afb3[_0x345d('0xd')], function (_0x22c2ef) { if (_0x22c2ef[_0x345d('0x16')]) { waitingDialog[_0x345d('0xa')](); swal({ 'text': _0x345d('0x7c'), 'confirmButtonColor': _0x345d('0x2b'), 'width': _0x345d('0x2c') }); _0x47a895[_0x345d('0x21')](_0x345d('0x22')); } }); }; _0x47afb3['Regresar'] = function () { _0x47a895[_0x345d('0x21')](_0x345d('0x22')); $(_0x345d('0x7d'))['hide'](); }; }]);

ManualApp.controller('MatrizController',
    ['$scope', '$rootScope', '$location', 'MatrizService', 'ArbolProblemaService', '$routeParams', '$sce',
        function ($scope, $rootScope, $location, MatrizService, ArbolProblemaService, $routeParams, $sce) {

            $("#Panel2").hide();
            $("#problematicaCampo").removeAttr("disabled");
            $("#ProblematicaTexto").hide();
            $("#TituloProblema").hide();
            $("#flechaIzquierda").hide();

            //Objeto con los problemas
            $scope.Problemas = [
                  {
                      Problema: "",
                      EjeX: "",
                      EjeY: "",
                      Criterio: ""
                  }
            ];

            $scope.DatosProyecto = {
                IdProyecto: $rootScope.proyecto.datos.id,
                IdMatriz: "",
                ProblemaGeneral: "",
                DetalleMat: [
                  {
                      Problema: "",
                      EjeX: "",
                      EjeY: "",
                      Criterio: ""
                  }
                ]
            }

            $scope.SeriesPuntos = [];

            //Funciòn para pausar el audio cuando se abra el video
            $scope.PauseAudio = function () {
                setTimeout(function () {
                    var audio = document.getElementById("audio-player");
                    audio.pause();
                }, 1000);
            }


            if ($rootScope.proyecto != undefined) {
                MatrizService.ConsultarMatriz($rootScope.proyecto.datos.id, function (response) {
                    if (response.success) {
                        $scope.DatosMatriz = response.matriz.DetalleMat;
                        $scope.DatosProyecto.ProblemaGeneral = response.matriz.ProblemaGeneral;

                        $("#problemasMatriz").hide();
                        $("#Panel2").show();
                        //$("#problematicaCampo").attr("disabled", "disabled");
                        //$("#problematicaCampo").css("width", "115%");
                        $("#problematicaCampo").hide();

                        $("#TituloProblema").show();
                        $("#BtnGuardar").hide();
                    } else {

                        $("#ModalOmitir").modal({ backdrop: 'static', keyboard: false });
                        $("#ModalOmitir").modal("show");

                    }
                })
            }

            $scope.OmitirMatriz = function () {
                MatrizService.OmitirMatriz($rootScope.proyecto.datos.id, function (response) {
                    if (response.success) {
                        $location.url("/Menu")
                        $(".modal-backdrop").remove();
                    }
                })
            }

            $scope.AgregarCampos = function () {

                if ($scope.Problemas.length < 25) {
                    $scope.Problemas.push({
                        Problema: "",

                    });
                } else {
                    alert("La cantidad de problemas a ingresar debe ser menor de 20");
                    return false;
                }

            };

            //Función para agregar la cantidad de problemas
            $scope.Agregar = function (Cantidad) {
                console.log(Cantidad);
                if ($scope.DatosProyecto.ProblemaGeneral == "") {

                    swal({
                        text: 'Ingrese el problema general',
                        confirmButtonColor: '#238276',
                        width: '25%'
                    })
                    return;
                }

                if (Cantidad == undefined) {

                    swal({
                        text: 'Elija la cantidad de problemas a evaluar',
                        confirmButtonColor: '#238276',
                        width: '25%'
                    })
                    return;
                }
                $scope.Problemas = [
                 {
                     Problema: "",
                     EjeX: "",
                     EjeY: "",
                     Criterio: ""
                 }
                ];


                var cantidad = parseInt(Cantidad);
                for (var i = 0; i < cantidad; i++) {
                    $scope.Problemas.push({
                        Problema: "",

                    });
                }
            }

            $scope.EliminarCampos = function (index) {

                if ($scope.Problemas.length > 1) {
                    $scope.Problemas.splice(index, 1);
                }

            };

            //Función para empezar a comparar los problemas
            $scope.mostrar = function () {
                $scope.ProblemasCalificar = [];

                //-------------DESCOMENTARIAR -------------------------
                if ($scope.Problemas.length < 5) {
                    alertify.success("La cantidad mínima de problemas es 5")
                    return;
                } else {

                    var contador = 0;
                    $.each($scope.Problemas, function (index, value1) {

                        if (value1.Problema == "") {
                            contador++;
                        }
                    });
                    if (contador != 0) {
                        alertify.success("Debe llenar todos los campos")
                        return;
                    }
                }

                $scope.totalProblemas = [];

                $.each($scope.Problemas, function (index, value1) {
                    if (index != 0) {
                        $scope.ProblemasCalificar.push({
                            Problema: value1.Problema
                        })
                    }
                    var problema = value1.Problema
                    $scope.totalProblemas.push({
                        problema
                    })
                });

                //Funcion para evitar que se duplique un problema antes de comparar
                var totalProblemas = [];
                $.each($scope.Problemas, function (i, item) {
                    if ($.inArray(item.Problema, totalProblemas) === -1) {
                        totalProblemas.push(item.Problema);
                    }
                });



                if (totalProblemas.length > 0 && totalProblemas.length < $scope.Problemas.length) {


                    swal({
                        text: 'Ups! Tienes problemas repetidos',
                        confirmButtonColor: '#238276',
                        width: '25%'

                    })

                    return false;
                }

                $scope.ProblemaComparante = $scope.Problemas[0].Problema;

                setTimeout(function () {
                    $("#comparar li:nth-child(1)").show();
                }, 100);
                $("#Problematicas").hide();
                $("#mostrar").hide();
                $("#agregarProblemas").hide();
                $("#problemasMatriz").hide();
                $("#influeniciaTitulo").css({ "display": "block" });
                $("#problematicaCampo").removeAttr("disabled");
                $("#flechaIzquierda").show();

            }

            //Inicialización de variables para la matriz 
            var contador = 0;
            $scope.sumaEjeX = 0;
            $scope.Datos = [];
            $scope.sumaEjeY = [];
            $scope.Puntos = [];
            var suma = 0;

            //funcion para evaluar los problemas
            $scope.Calificar = function (index, valor, problematica) {

                suma = parseInt(suma) + parseInt(valor);


                $scope.sumaEjeY.push(parseInt(valor));

                //$scope.ProblemasCalificar.push($scope.ProblemasCalificar[index],valor);
                $scope.ProblemasCalificar.splice(index, 1);

                setTimeout(function () {
                    $("#comparar li:nth-child(" + (index + 1) + ")").show();
                }, 100);

                if ($scope.ProblemasCalificar.length == 0) {

                    $("#ModalConfirmar").modal({ backdrop: 'static', keyboard: false });
                    $("#ModalConfirmar").modal("show")
                    
                }
               
            }

            //Funcion para comfirmar si desea repetir las calificaciones de la iteración.
            $scope.ConfirmarCalificacion = function (valor) {

                if (valor == 1) {

                    $scope.sumaEjeX = suma;

                } else {
                    $.each($scope.Problemas, function (index, value1) {
                        if (index != contador) {

                            $scope.ProblemasCalificar.push({
                                Problema: value1.Problema,

                            });

                        }
                    });
                    setTimeout(function () {
                        $("#comparar li:nth-child(1)").show();
                    }, 100);

                    return false;
                }

                suma = 0;
                $scope.sumaEjeY.splice(contador, 0, 0);
                $scope.Datos.push($scope.sumaEjeY);

                $scope.sumaEjeY = [];

                $scope.Problemas[contador].EjeX = $scope.sumaEjeX;
                $scope.sumaEjeX = 0;
                contador++;

                var prueba = contador + 1;
                if (prueba > $scope.Problemas.length) {
                    //alert("termino");

                    //Fununción para sumar el eje Y del array con las calificaciones de cada problema
                    var sumY = (r, a) => r.map((b, i) => a[i] + b);

                    var sumaX = function (a, b) { return a + b; }

                    var calificacionesY = $scope.Datos.reduce(sumY);
                    $.each(calificacionesY, function (index1, value) {
                        $scope.Problemas[index1].EjeY = value;
                    });


                    //Objeto para que la grafica inicie desde el punto 0 de la grafica
                    var inicio = {
                        name: "Problemas",
                        color: 'rgba(0,0,0,0.0)',
                        data: [[0, 0]]
                    }

                    $scope.SeriesPuntos.push(inicio);

                    $.each($scope.Problemas, function (index, value) {
                        var dato = {
                            name: value.Problema,
                            color: 'rgba(0,0,255,0.6)',
                            data: [[value.EjeX, value.EjeY]]
                        };
                        $scope.SeriesPuntos.push(dato);
                    });

                    $scope.EvaluacionCriterios();
                    $scope.grafica();

                    console.log($scope.Problemas);

                    contador = 0;
                    return false;
                }


                $scope.ProblemaComparante = $scope.Problemas[contador].Problema;


                $.each($scope.Problemas, function (index, value1) {
                    if (index != contador) {

                        $scope.ProblemasCalificar.push({
                            Problema: value1.Problema,

                        });

                    }
                });
                setTimeout(function () {
                    $("#comparar li:nth-child(1)").show();
                }, 100);
            }

            //Función para pintar la grafica con los problemas calificados
            $scope.grafica = function () {

                $("#personaje").hide();
                $("#grafica").show();
                $("#problema").hide();
                $("#influeniciaTitulo").hide();


                Highcharts.chart('container', {
                    chart: {
                        type: 'scatter',
                        height: 480
                        //zoomType: 'xy'
                    },
                    title: {
                        text: 'GRAFICA VESTER'
                    },
                    //subtitle: {
                    //    text: 'Source: Heinz  2003'
                    //},
                    xAxis: {
                        title: {
                            enabled: true,
                            text: 'EJE X'
                        },
                        startOnTick: false,
                        endOnTick: false,
                        showLastLabel: true,
                        allowDecimals: false
                    },
                    yAxis: {
                        title: {
                            text: 'EJE Y'
                        },

                        startOnTick: false,
                        endOnTick: true,
                        showLastLabel: true,
                        allowDecimals: false,
                    },
                    legend: {
                        enabled: false
                    },
                    plotOptions: {
                        scatter: {
                            marker: {
                                radius: 5,
                                states: {
                                    hover: {
                                        enabled: true,
                                        lineColor: 'rgb(100,100,100)'
                                    }
                                }
                            },
                            states: {
                                hover: {
                                    marker: {
                                        enabled: false
                                    }
                                }
                            },
                            tooltip: {
                                headerFormat: '<b>{series.name}</b><br>',
                                pointFormat: '{point.x} X, {point.y} Y'
                            }
                        }
                    },
                    series: $scope.SeriesPuntos
                });

                console.log($scope.SeriesPuntos);
                var tamañoMaxX = (($(".highcharts-root").width()) / 2) + 27;
                var tamañoMaxY = $(".highcharts-root").height();
                var animacion = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
                                window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;;

                //Función para repetir el calcula de la linea vertical 
                function repetir() {
                    $(".highcharts-yaxis-grid path:first-child").attr("d", "M " + tamañoMaxX + " 52 L " + tamañoMaxX + " " + (tamañoMaxY - 60) + "").attr("stroke", "blue").attr("stroke-width", "2");
                    animacion(repetir);
                }

                animacion(repetir);

                $("#container").prepend('<span id="lineaTerror"></span>');

                $("#lineaTerror").css({
                    "width": $(".highcharts-root").width() - 71 + "px",
                    "height": "2px",
                    "top": (((tamañoMaxY / 2) - 8) + "px"),
                    "left": "110px",
                    "background": "blue",
                    "z-index": "1",
                    "position": "absolute"
                    //"margin-left": "17%"
                });

                $(".highcharts-button , .highcharts-credits").hide();


            }

            //Función para evaluar los criterios de cada problema
            $scope.EvaluacionCriterios = function () {
                debugger;
                var totalCalificacion = (parseInt($scope.Problemas.length) * 3) - 3;
                //var puntoMedioX = (totalCalificacion / 2);
                var puntoMedioX = 0;
                var puntoAltoY = 0;
                var puntoAltoX = 0;
                var puntoMedioY = 0;

                $.each($scope.Problemas, function (index, value) {

                    if (value.EjeY >= puntoAltoY) {

                        puntoAltoY = value.EjeY;
                        puntoMedioY = (parseInt(puntoAltoY) + 1) / 2;
                    }
                    if (value.EjeX >= puntoAltoX) {

                        puntoAltoX = value.EjeX;
                        puntoMedioX = (parseInt(puntoAltoX) / 2);
                    }
                });

                console.log(puntoMedioY);
                console.log(puntoMedioX);

                $scope.PuntosCriticos = [];
                $scope.PuntosActivos = [];
                $scope.PuntosPasivos = [];
                $scope.PuntosIndiferentes = [];

                $.each($scope.Problemas, function (index, value) {

                    if (value.EjeX <= puntoMedioX && value.EjeY >= puntoMedioY) {

                        $scope.Problemas[index].Criterio = "Pasivos";
                        //scope.PuntosPasivos.push($scope.Problemas[index]);

                    } else if (value.EjeX > puntoMedioX && value.EjeY > puntoMedioY) {

                        $scope.Problemas[index].Criterio = "Criticos";
                        //$scope.PuntosCriticos.push($scope.Problemas[index]);

                    } else if (value.EjeX < puntoMedioX && value.EjeY < puntoMedioY) {

                        $scope.Problemas[index].Criterio = "Indiferentes";
                        //$scope.PuntosIndiferentes.push($scope.Problemas[index]);

                    } else if (value.EjeX >= puntoMedioX && value.EjeY <= puntoMedioY) {

                        $scope.Problemas[index].Criterio = "Activos";
                        //$scope.PuntosActivos.push($scope.Problemas[index]);
                    }
                });

                var contador = 0;
                var valorPuntoCritico = 0


                $scope.puntoAlto = 0;
                $.each($scope.Problemas, function (index, value) {
                    var valor = parseInt(value.EjeX) + parseInt(value.EjeY);
                    valorPuntoCritico = Math.sqrt(valor);

                    if (valorPuntoCritico > contador) {

                        contador = valorPuntoCritico;
                        $scope.puntoAlto = (index);
                    }
                });

                
                if ($scope.Problemas[$scope.puntoAlto].Criterio == "Pasivos") {
                    contador = 0
                    $.each($scope.Problemas, function (index, value) {
                        if (value.Criterio == "Activos") {

                            var valor = parseInt(value.EjeX) + parseInt(value.EjeY);
                            valorPuntoCritico = Math.sqrt(valor);

                            if (valorPuntoCritico > contador) {

                                contador = valorPuntoCritico;
                                $scope.puntoAlto = (index);
                            }
                        }
                    });

                   
                }
                $scope.Problemas[$scope.puntoAlto].Criterio = "Punto Critico"
               
                $.each($scope.Problemas, function (index, value) {

                    if (value.Criterio == "Criticos") {
                        $scope.Problemas[index].Criterio = "Activos";
                    }
                });


                $.each($scope.SeriesPuntos, function (index, value) {

                    if (value.name == $scope.Problemas[$scope.puntoAlto].Problema) {
                        var inicio = {
                            name: "Punto Critico: " + $scope.Problemas[$scope.puntoAlto].Problema,
                            color: 'rgba(255,0,0,1)',
                            data: [[$scope.Problemas[$scope.puntoAlto].EjeX, $scope.Problemas[$scope.puntoAlto].EjeY]]
                        }
                        $scope.SeriesPuntos[index] = inicio;
                    }
                })




                //var contador = 0;
                //$.each($scope.SeriesPuntos, function (index, value) {
                //    if (contador == 0) {
                //        var inicio = {
                //            name: "Punto Critico: " + $scope.Problemas[0].Problema,
                //            color: 'rgba(255,0,0,1)',
                //            data: [[$scope.Problemas[0].EjeX, $scope.Problemas[0].EjeY]]
                //        }
                //        $scope.SeriesPuntos[index] = inicio;
                //        contador++;
                //    }

                //});

                //$scope.grafica();
                //console.log($scope.Problemas);

            }

            //Función para habilitar el botón de califcar 
            $scope.HabilitarEnviar = function () {

                $("#Calificar").attr("disabled", false);
            }

            //Función para almacenar los datos de la matriz  
            $scope.Guardar = function () {
                $scope.DatosProyecto.DetalleMat = $scope.Problemas;
                if ($scope.DatosProyecto.DetalleMat[0].Criterio == "") {
                    swal({
                        text: 'Debe realizar la matriz de Vester',
                        confirmButtonColor: '#238276',
                        width: '25%'

                    })

                    return;
                }
                waitingDialog.show();

                MatrizService.Guardar($scope.DatosProyecto, function (response) {
                    if (response.success) {
                        waitingDialog.hide();
                        swal({
                            text: 'Registro Exitoso',
                            confirmButtonColor: '#238276',
                            width: '25%'

                        })

                        $location.url("/Menu");


                    }
                })
            }

            $scope.Regresar = function () {

                $location.url("/Menu");
                $(".notify").hide();

            }



        }]);