//var _0x151d=['attr','value','Debe\x20abrir\x20un\x20proyecto\x20o\x20\x20crear\x20uno\x20nuevo','#238276','25%','then','#misProyectos','toggle','slow','/InfoBasica','Matriz','#iconoDos','Etapa','consultarMatriz','proyecto','datos','success','url','/Matriz','El\x20árbol\x20esta\x20hecho','#iconoTres','Debes\x20culminar\x20el\x20paso\x20anterior','/ArbolProblema','reload','ArbolObjetivos','#iconoCuatro','/Objetivos','Involucrados','#iconoCinco','/Involucrados','Perfil','/PerfilProyecto','Cronograma','#iconoSiete','MarcoLogico','#iconoOcho','/MarcoL','.icono-menu','click','.sobre-menu-principal','fadeIn','.menu-principal','animate','fadeOut','-1000px','ConsultarProyectos','currentUser','Proyectos','InicioProyecto','CrearProyecto','nombreProyecto','#circuloUno','css','rgba(13,\x20132,\x20126,\x200.24)','50%','src','images/datosBasicosAct.png','#flechaUno','remove','DeshabilitarCirculos','AbrirProyecto','datosProyecto','Proyecto','TemaProyecto','IdUsuario','putObject','EtapasProyecto','IdProyecto','#circuloDos','rgb(255,255,255)','images/lluviaIdeas.png','#flechaDos','fast','#circuloTres','images/arbolProb.png','#flechaTres','#circuloCuatro','images/arbol.png','#flechaCuatro','#circuloCinco','images/grafica.png','#iconoSeis','#flechaSeis','#circuloSiete','#flechaSiete','#circuloOcho','images/matriz.png','#flechaOcho','animated\x20rotateIn','.campo:nth-child(1)','33%','images/lluviaIdeasAct.png','addClass','.campo:nth-child(3)','images/arbolProbAct.png','.campo:nth-child(5)','10%','images/arbolAct.png','.campo:nth-child(7)','60%','images/perfilAct.png','#flechaCinco','.campo:nth-child(9)','34%','#circuloSeis','.campo:nth-child(11)','.campo:nth-child(13)','-7%','images/matrizAct.png','.campo:nth-child(15)','12%','borrarProyecto','¿Esta\x20seguro?','Si\x20elimina\x20el\x20proyecto\x20...\x20,\x20perderá\x20toda\x20la\x20información\x20sobre\x20este.','warning','#d33','No,\x20Cancelar!','btn\x20btn-success','EliminarProyecto','Borrado!','Tu\x20proyecto\x20ha\x20sido\x20borrado.','proyectos','salio\x20mal','cancel','Eliminado','El\x20proyecto\x20ha\x20sido\x20eliminado!','error','/Menu','MenuController','$scope','$rootScope','MenuService','$cookies','$routeParams','globals','username','#AbrirDemo','trigger','DatosBasicos','#iconoUno'];(function(_0x1c90d6,_0x60ed6c){var _0x4267c0=function(_0xb57e9d){while(--_0xb57e9d){_0x1c90d6['push'](_0x1c90d6['shift']());}};_0x4267c0(++_0x60ed6c);}(_0x151d,0x10c));var _0x8940=function(_0x563a2e,_0x5713b2){_0x563a2e=_0x563a2e-0x0;var _0x23c6ae=_0x151d[_0x563a2e];return _0x23c6ae;};ManualApp['controller'](_0x8940('0x0'),[_0x8940('0x1'),_0x8940('0x2'),'$location',_0x8940('0x3'),_0x8940('0x4'),'$cookieStore',_0x8940('0x5'),'$sce',function(_0x2227e3,_0x3e9f19,_0x3b6d71,_0x586b08,_0x649c19,_0x436f33,_0x391de7,_0x45cbcf){_0x3e9f19[_0x8940('0x6')]=_0x436f33['get'](_0x8940('0x7'));if(VideoDemo==0x0){setTimeout(function(){$(_0x8940('0x8'))[_0x8940('0x9')]('click');VideoDemo=0x1;},0x3e8);}_0x2227e3[_0x8940('0xa')]=function(){var _0x1fd574=$(_0x8940('0xb'))[_0x8940('0xc')](_0x8940('0xd'));if(_0x1fd574=='1'){swal({'text':_0x8940('0xe'),'confirmButtonColor':_0x8940('0xf'),'width':_0x8940('0x10'),'allowOutsideClick':![]})[_0x8940('0x11')](function(){$(_0x8940('0x12'))[_0x8940('0x13')](_0x8940('0x14'));});}else{_0x3b6d71['url'](_0x8940('0x15'));}};_0x2227e3[_0x8940('0x16')]=function(){var _0x43efac=$(_0x8940('0x17'))['attr'](_0x8940('0xd'));if(_0x43efac==0x1){swal({'text':'Debes\x20culminar\x20el\x20paso\x20anterior','confirmButtonColor':_0x8940('0xf'),'width':'25%','allowOutsideClick':![]});}else if(_0x3e9f19['proyecto']['datos'][_0x8940('0x18')]>0x2){_0x586b08[_0x8940('0x19')](_0x3e9f19[_0x8940('0x1a')][_0x8940('0x1b')]['id'],function(_0x40fa74){if(_0x40fa74[_0x8940('0x1c')]){_0x3b6d71[_0x8940('0x1d')](_0x8940('0x1e'));}else{swal({'text':_0x8940('0x1f'),'confirmButtonColor':_0x8940('0xf'),'width':_0x8940('0x10'),'allowOutsideClick':![]});}});}else{_0x3b6d71[_0x8940('0x1d')](_0x8940('0x1e'));}};_0x2227e3['Arbol']=function(){var _0x192bd9=$(_0x8940('0x20'))[_0x8940('0xc')](_0x8940('0xd'));if(_0x192bd9==0x1){swal({'text':_0x8940('0x21'),'confirmButtonColor':_0x8940('0xf'),'width':_0x8940('0x10'),'allowOutsideClick':![]});}else{_0x3b6d71[_0x8940('0x1d')](_0x8940('0x22'));location[_0x8940('0x23')]();}};_0x2227e3[_0x8940('0x24')]=function(){var _0x2151bd=$(_0x8940('0x25'))[_0x8940('0xc')](_0x8940('0xd'));if(_0x2151bd==0x1){swal({'text':_0x8940('0x21'),'confirmButtonColor':_0x8940('0xf'),'width':'25%','allowOutsideClick':![]});}else{_0x3b6d71[_0x8940('0x1d')](_0x8940('0x26'));location[_0x8940('0x23')]();}};_0x2227e3[_0x8940('0x27')]=function(){var _0x3b1b97=$(_0x8940('0x28'))[_0x8940('0xc')](_0x8940('0xd'));if(_0x3b1b97=='1'){swal({'text':'Debes\x20culminar\x20el\x20paso\x20anterior','confirmButtonColor':_0x8940('0xf'),'width':_0x8940('0x10'),'allowOutsideClick':![]});}else{_0x3b6d71['url'](_0x8940('0x29'));}};_0x2227e3[_0x8940('0x2a')]=function(){var _0x2819d2=$('#iconoSeis')[_0x8940('0xc')]('value');if(_0x2819d2=='1'){swal({'text':_0x8940('0x21'),'confirmButtonColor':_0x8940('0xf'),'width':_0x8940('0x10'),'allowOutsideClick':![]});}else{_0x3b6d71[_0x8940('0x1d')](_0x8940('0x2b'));}};_0x2227e3[_0x8940('0x2c')]=function(){var _0x1da23d=$(_0x8940('0x2d'))[_0x8940('0xc')](_0x8940('0xd'));if(_0x1da23d=='1'){swal({'text':_0x8940('0x21'),'confirmButtonColor':_0x8940('0xf'),'width':_0x8940('0x10'),'allowOutsideClick':![]});}else{_0x3b6d71['url']('/Cronograma');}};_0x2227e3[_0x8940('0x2e')]=function(){var _0x1844db=$(_0x8940('0x2f'))['attr'](_0x8940('0xd'));if(_0x1844db=='1'){swal({'text':_0x8940('0x21'),'confirmButtonColor':'#238276','width':_0x8940('0x10'),'allowOutsideClick':![]});}else{_0x3b6d71[_0x8940('0x1d')](_0x8940('0x30'));}};$(_0x8940('0x31'))[_0x8940('0x32')](function(){$(_0x8940('0x33'))[_0x8940('0x34')]();$(_0x8940('0x35'))[_0x8940('0x36')]({'left':'0'},0x1f4);});$(_0x8940('0x33'))['click'](function(){$(_0x8940('0x33'))[_0x8940('0x37')]();$(_0x8940('0x35'))[_0x8940('0x36')]({'left':_0x8940('0x38')},0x1f4);});_0x586b08[_0x8940('0x39')](_0x3e9f19[_0x8940('0x6')][_0x8940('0x3a')]['id'],function(_0x18ec35){if(_0x18ec35[_0x8940('0x1c')]){_0x2227e3[_0x8940('0x3b')]=_0x18ec35['proyectos'];}});_0x3e9f19[_0x8940('0x3c')]=0x0;_0x2227e3[_0x8940('0x3d')]=function(){_0x3e9f19[_0x8940('0x3e')]='';$(_0x8940('0x3f'))[_0x8940('0x40')]({'background-color':_0x8940('0x41'),'z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0xb'))[_0x8940('0xc')](_0x8940('0x43'),_0x8940('0x44'));$(_0x8940('0xb'))[_0x8940('0xc')](_0x8940('0xd'),0x2);$(_0x8940('0x45'))[_0x8940('0x34')]('fast');_0x3e9f19['InicioProyecto']=0x1;_0x649c19[_0x8940('0x46')]('datosProyecto');_0x2227e3[_0x8940('0x47')]();};_0x2227e3[_0x8940('0x48')]=function(_0x34b430){_0x2227e3[_0x8940('0x47')]();_0x3e9f19[_0x8940('0x3e')]='';_0x586b08[_0x8940('0x48')](_0x34b430,function(_0x10d6c6){if(_0x10d6c6[_0x8940('0x1c')]){if(_0x3e9f19[_0x8940('0x1a')]!=undefined){_0x649c19[_0x8940('0x46')](_0x8940('0x49'));}_0x3e9f19[_0x8940('0x4a')]={'datos':{'id':_0x10d6c6[_0x8940('0x1a')]['IdProyecto'],'Tema':_0x10d6c6[_0x8940('0x1a')][_0x8940('0x4b')],'IdUsuario':_0x10d6c6['proyecto'][_0x8940('0x4c')],'Etapa':_0x10d6c6[_0x8940('0x1a')][_0x8940('0x18')]}};_0x3e9f19[_0x8940('0x3e')]=_0x10d6c6[_0x8940('0x1a')][_0x8940('0x4b')];_0x649c19[_0x8940('0x4d')](_0x8940('0x49'),_0x3e9f19[_0x8940('0x4a')]);_0x3e9f19[_0x8940('0x1a')]=_0x436f33['get'](_0x8940('0x49'));_0x2227e3[_0x8940('0x4e')](_0x10d6c6[_0x8940('0x1a')][_0x8940('0x18')]);}});};if(_0x3e9f19['proyecto']!=undefined){_0x586b08[_0x8940('0x48')](_0x3e9f19['proyecto']['datos']['id'],function(_0x430c1b){if(_0x430c1b['success']){_0x3e9f19[_0x8940('0x1a')]={'datos':{'id':_0x430c1b[_0x8940('0x1a')][_0x8940('0x4f')],'Tema':_0x430c1b[_0x8940('0x1a')][_0x8940('0x4b')],'IdUsuario':_0x430c1b[_0x8940('0x1a')]['IdUsuario'],'Etapa':_0x430c1b[_0x8940('0x1a')][_0x8940('0x18')]}};_0x3e9f19[_0x8940('0x3e')]=_0x430c1b[_0x8940('0x1a')][_0x8940('0x4b')];_0x2227e3[_0x8940('0x4e')](_0x430c1b[_0x8940('0x1a')][_0x8940('0x18')]);_0x649c19[_0x8940('0x4d')](_0x8940('0x49'),_0x3e9f19[_0x8940('0x1a')]);}});}if(_0x3e9f19[_0x8940('0x1a')]!=undefined){_0x586b08[_0x8940('0x48')](_0x3e9f19['proyecto'][_0x8940('0x1b')]['id'],function(_0x2cb5c0){if(_0x2cb5c0[_0x8940('0x1c')]){}});}_0x2227e3[_0x8940('0x47')]=function(){$(_0x8940('0x50'))[_0x8940('0x40')]({'background-color':_0x8940('0x51'),'z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x17'))[_0x8940('0xc')]('src',_0x8940('0x52'));$('#iconoDos')[_0x8940('0xc')](_0x8940('0xd'),0x1);$(_0x8940('0x53'))[_0x8940('0x37')](_0x8940('0x54'));$(_0x8940('0x55'))[_0x8940('0x40')]({'background-color':'rgb(255,255,255)','z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x20'))[_0x8940('0xc')](_0x8940('0x43'),_0x8940('0x56'));$(_0x8940('0x20'))[_0x8940('0xc')](_0x8940('0xd'),0x1);$(_0x8940('0x57'))[_0x8940('0x37')](_0x8940('0x54'));$(_0x8940('0x58'))[_0x8940('0x40')]({'background-color':_0x8940('0x51'),'z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x25'))['attr'](_0x8940('0x43'),_0x8940('0x59'));$(_0x8940('0x25'))[_0x8940('0xc')](_0x8940('0xd'),0x1);$(_0x8940('0x5a'))[_0x8940('0x37')](_0x8940('0x54'));$(_0x8940('0x5b'))[_0x8940('0x40')]({'background-color':_0x8940('0x51'),'z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x28'))['attr'](_0x8940('0x43'),'images/perfil.png');$(_0x8940('0x28'))[_0x8940('0xc')](_0x8940('0xd'),0x1);$('#flechaCinco')[_0x8940('0x37')]('fast');$('#circuloSeis')[_0x8940('0x40')]({'background-color':_0x8940('0x51'),'z-index':'1','border-radius':_0x8940('0x42')});$('#iconoSeis')[_0x8940('0xc')](_0x8940('0x43'),_0x8940('0x5c'));$(_0x8940('0x5d'))[_0x8940('0xc')](_0x8940('0xd'),0x1);$(_0x8940('0x5e'))['fadeOut']('fast');$(_0x8940('0x5f'))[_0x8940('0x40')]({'background-color':_0x8940('0x51'),'z-index':'1','border-radius':_0x8940('0x42')});$('#iconoSiete')[_0x8940('0xc')](_0x8940('0x43'),'images/calendario.png');$(_0x8940('0x2d'))[_0x8940('0xc')](_0x8940('0xd'),0x1);$(_0x8940('0x60'))[_0x8940('0x37')](_0x8940('0x54'));$(_0x8940('0x61'))[_0x8940('0x40')]({'background-color':'rgb(255,255,255)','z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x2f'))[_0x8940('0xc')](_0x8940('0x43'),_0x8940('0x62'));$(_0x8940('0x2f'))['attr'](_0x8940('0xd'),0x1);$(_0x8940('0x63'))[_0x8940('0x37')](_0x8940('0x54'));};_0x2227e3['EtapasProyecto']=function(_0x28a5ee){if(_0x28a5ee>=0x1){$(_0x8940('0x3f'))[_0x8940('0x40')]({'background-color':_0x8940('0x41'),'z-index':'1','border-radius':_0x8940('0x42')});$('#iconoUno')['attr']('src',_0x8940('0x44'));$(_0x8940('0xb'))[_0x8940('0xc')](_0x8940('0xd'),0x2);$(_0x8940('0x45'))[_0x8940('0x34')]('slow');$(_0x8940('0x3f'))['addClass'](_0x8940('0x64'));$(_0x8940('0x65'))[_0x8940('0x40')]({'left':_0x8940('0x66')});$(_0x8940('0x50'))[_0x8940('0x40')]({'background-color':'rgba(13,\x20132,\x20126,\x200.24)','z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x17'))['attr'](_0x8940('0x43'),_0x8940('0x67'));$(_0x8940('0x17'))['attr'](_0x8940('0xd'),0x2);$(_0x8940('0x53'))[_0x8940('0x34')]('slow');$(_0x8940('0x50'))[_0x8940('0x68')]('animated\x20rotateIn');$(_0x8940('0x69'))['css']({'right':_0x8940('0x10')});}if(_0x28a5ee>=0x2){$(_0x8940('0x55'))[_0x8940('0x40')]({'background-color':'rgba(13,\x20132,\x20126,\x200.24)','z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x20'))['attr'](_0x8940('0x43'),_0x8940('0x6a'));$(_0x8940('0x20'))[_0x8940('0xc')](_0x8940('0xd'),0x2);$(_0x8940('0x57'))[_0x8940('0x34')]('slow');$(_0x8940('0x55'))['addClass'](_0x8940('0x64'));$(_0x8940('0x6b'))[_0x8940('0x40')]({'right':_0x8940('0x6c')});}if(_0x28a5ee>=0x3){$(_0x8940('0x58'))[_0x8940('0x40')]({'background-color':_0x8940('0x41'),'z-index':'1','border-radius':'50%'});$(_0x8940('0x25'))[_0x8940('0xc')](_0x8940('0x43'),_0x8940('0x6d'));$(_0x8940('0x25'))[_0x8940('0xc')](_0x8940('0xd'),0x2);$(_0x8940('0x5a'))[_0x8940('0x34')](_0x8940('0x14'));$('#circuloCuatro')[_0x8940('0x68')](_0x8940('0x64'));$(_0x8940('0x6e'))['css']({'left':_0x8940('0x6f')});}if(_0x28a5ee>=0x5){$(_0x8940('0x5b'))[_0x8940('0x40')]({'background-color':_0x8940('0x41'),'z-index':'1','border-radius':_0x8940('0x42')});$('#iconoCinco')[_0x8940('0xc')](_0x8940('0x43'),_0x8940('0x70'));$(_0x8940('0x28'))[_0x8940('0xc')]('value',0x2);$(_0x8940('0x71'))['fadeIn'](_0x8940('0x14'));$(_0x8940('0x5b'))[_0x8940('0x68')](_0x8940('0x64'));$(_0x8940('0x72'))['css']({'left':_0x8940('0x73')});}if(_0x28a5ee>=0x6){$(_0x8940('0x74'))[_0x8940('0x40')]({'background-color':_0x8940('0x41'),'z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x5d'))[_0x8940('0xc')](_0x8940('0x43'),'images/graficaAct.png');$(_0x8940('0x5d'))['attr']('value',0x2);$(_0x8940('0x5e'))[_0x8940('0x34')](_0x8940('0x14'));$('#circuloSeis')[_0x8940('0x68')](_0x8940('0x64'));$(_0x8940('0x75'))[_0x8940('0x40')]({'left':'5%'});}if(_0x28a5ee>=0x8){$(_0x8940('0x5f'))[_0x8940('0x40')]({'background-color':'rgba(13,\x20132,\x20126,\x200.24)','z-index':'1','border-radius':_0x8940('0x42')});$(_0x8940('0x2d'))['attr'](_0x8940('0x43'),'images/calendarioAct.png');$(_0x8940('0x2d'))[_0x8940('0xc')](_0x8940('0xd'),0x2);$(_0x8940('0x60'))['fadeIn'](_0x8940('0x14'));$(_0x8940('0x5f'))[_0x8940('0x68')](_0x8940('0x64'));$(_0x8940('0x76'))[_0x8940('0x40')]({'left':_0x8940('0x77')});}if(_0x28a5ee>=0xa){$(_0x8940('0x61'))['css']({'background-color':_0x8940('0x41'),'z-index':'1','border-radius':_0x8940('0x42')});$('#iconoOcho')[_0x8940('0xc')](_0x8940('0x43'),_0x8940('0x78'));$('#iconoOcho')[_0x8940('0xc')](_0x8940('0xd'),0x2);$(_0x8940('0x63'))[_0x8940('0x34')](_0x8940('0x14'));$(_0x8940('0x61'))[_0x8940('0x68')](_0x8940('0x64'));$(_0x8940('0x79'))['css']({'left':_0x8940('0x7a')});}};$('#proyectos')[_0x8940('0x32')](function(){$(_0x8940('0x12'))[_0x8940('0x13')](_0x8940('0x14'));});_0x2227e3[_0x8940('0x7b')]=function(){swal({'title':_0x8940('0x7c'),'text':_0x8940('0x7d'),'type':_0x8940('0x7e'),'showCancelButton':!![],'confirmButtonColor':_0x8940('0xf'),'cancelButtonColor':_0x8940('0x7f'),'confirmButtonText':'Si,\x20Eliminar','cancelButtonText':_0x8940('0x80'),'confirmButtonClass':_0x8940('0x81'),'cancelButtonClass':'btn\x20btn-danger'})['then'](function(){_0x586b08[_0x8940('0x82')](_0x3e9f19[_0x8940('0x1a')][_0x8940('0x1b')]['id'],function(_0x37aa33){if(_0x37aa33[_0x8940('0x1c')]){swal({'confirmButtonColor':_0x8940('0xf'),'title':_0x8940('0x83'),'text':_0x8940('0x84'),'type':'success'})['then'](function(){_0x2227e3[_0x8940('0x47')]();_0x649c19[_0x8940('0x46')]('datosProyecto');_0x3e9f19[_0x8940('0x3e')]='';_0x3e9f19[_0x8940('0x3c')]=0x1;_0x586b08[_0x8940('0x39')](_0x3e9f19[_0x8940('0x6')]['currentUser']['id'],function(_0x13581e){if(_0x13581e[_0x8940('0x1c')]){_0x2227e3['Proyectos']=_0x13581e[_0x8940('0x85')];}});});}else{alert(_0x8940('0x86'));}});}),function(_0x4a63f7){if(_0x4a63f7===_0x8940('0x87')){swal({'confirmButtonColor':_0x8940('0xf'),'title':_0x8940('0x88'),'text':_0x8940('0x89'),'type':_0x8940('0x8a')});}};};_0x2227e3['Regresar']=function(){_0x3b6d71[_0x8940('0x1d')](_0x8940('0x8b'));$('.notify')['hide']();};}]);


ManualApp.controller('MenuController',
    ['$scope', '$rootScope', '$location', 'MenuService', '$cookies', '$cookieStore', '$routeParams', '$sce',
        function ($scope, $rootScope, $location, MenuService, $cookies, $cookieStore, $routeParams, $sce) {

            $rootScope.globals = $cookieStore.get('username');

            if (VideoDemo == 0) {
                setTimeout(function () {
                    $('#AbrirDemo').trigger('click');
                    VideoDemo = 1;
                }, 1000);
            }
           
          
            //Funciones para direccionar a las vistas 
            $scope.DatosBasicos = function () {
                var color = $("#iconoUno").attr('value');
                //console.log(cosa);
                if (color == "1") {
                    swal({
                        text: 'Debe abrir un proyecto o  crear uno nuevo',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    }).then(function () {
                        $("#misProyectos").toggle("slow");
                    });
                } else {
                    $location.url("/InfoBasica");
                }

            };

            $scope.Matriz = function () {
                var color = $("#iconoDos").attr('value');
                if (color == 1) {
                    swal({
                        text: 'Debes culminar el paso anterior',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    })
                } else if ($rootScope.proyecto.datos.Etapa > 2) {
                    MenuService.consultarMatriz($rootScope.proyecto.datos.id, function (response) {
                        if (response.success) {
                            $location.url("/Matriz");
                        }else{
                            swal({
                                text: 'El árbol esta hecho',
                                confirmButtonColor: '#238276',
                                width: '25%',
                                allowOutsideClick: false

                            })
                        }
                    })
                }

                else {
                    $location.url("/Matriz");
                }
            };

            $scope.Arbol = function () {
                var color = $("#iconoTres").attr('value');
                if (color == 1) {
                    swal({
                        text: 'Debes culminar el paso anterior',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    })
                } else {
                    $location.url("/ArbolProblema");
                    location.reload();
                }
            };

            $scope.ArbolObjetivos = function () {
                var color = $("#iconoCuatro").attr('value');
                if (color == 1) {
                    swal({
                        text: 'Debes culminar el paso anterior',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    })
                    
                } else {
                    $location.url("/Objetivos");
                    location.reload();
                }
            };

            $scope.Involucrados = function () {
                var color = $("#iconoCinco").attr('value');
                //console.log(cosa);
                if (color == "1") {
                    swal({
                        text: 'Debes culminar el paso anterior',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    })
                } else {
                    $location.url("/Involucrados");
                }

            };


            $scope.Perfil = function () {
                var color = $("#iconoSeis").attr('value');
                //console.log(cosa);
                if (color == "1") {
                    swal({
                        text: 'Debes culminar el paso anterior',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    })
                } else {
                    $location.url("/PerfilProyecto");
                }

            };
            
            $scope.Cronograma = function () {
                var color = $("#iconoSiete").attr('value');
                //console.log(cosa);
                if (color == "1") {
                    swal({
                        text: 'Debes culminar el paso anterior',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    })
                } else {
                    $location.url("/Cronograma");
                }

            };

            $scope.MarcoLogico = function () {
                var color = $("#iconoOcho").attr('value');
                //console.log(cosa);
                if (color == "1") {
                    swal({
                        text: 'Debes culminar el paso anterior',
                        confirmButtonColor: '#238276',
                        width: '25%',
                        allowOutsideClick: false

                    })
                } else {
                    $location.url("/MarcoL");
                }

            };

            //------------------------------------------------------------//

            $(".icono-menu").click(function () {

                $(".sobre-menu-principal").fadeIn();
                $(".menu-principal").animate({
                    left: "0"
                }, 500);
            });

            $(".sobre-menu-principal").click(function () {

                $(".sobre-menu-principal").fadeOut();
                $(".menu-principal").animate({
                    left: "-1000px"
                }, 500);
            });



            //Consulta todos los proyectos del usuario logueado
            MenuService.ConsultarProyectos($rootScope.globals.currentUser.id, function (response) {
                if (response.success) {
                    $scope.Proyectos = response.proyectos;
                }
            })

            $rootScope.InicioProyecto = 0;
            //Función para crear un nuevo proyecto
            $scope.CrearProyecto = function () {
                //location.reload();
                $rootScope.nombreProyecto = "";
                $("#circuloUno").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoUno").attr("src", "images/datosBasicosAct.png");
                $("#iconoUno").attr('value', 2);
                $('#flechaUno').fadeIn("fast");
                $rootScope.InicioProyecto = 1;
                $cookies.remove("datosProyecto");
                $scope.DeshabilitarCirculos();

            }

            //Función para cargar todos los datos de un proyecto ya iniciado
            $scope.AbrirProyecto = function (IdProyecto) {
                $scope.DeshabilitarCirculos();
                $rootScope.nombreProyecto = "";

                MenuService.AbrirProyecto(IdProyecto, function (response) {
                    if (response.success) {

                        if ($rootScope.proyecto != undefined) {
                            $cookies.remove("datosProyecto");
                        }

                        $rootScope.Proyecto = {
                            datos: {
                                id: response.proyecto.IdProyecto,
                                Tema: response.proyecto.TemaProyecto,
                                IdUsuario: response.proyecto.IdUsuario,
                                Etapa: response.proyecto.Etapa
                            }
                        };
                        $rootScope.nombreProyecto = response.proyecto.TemaProyecto;

                        $cookies.putObject("datosProyecto", $rootScope.Proyecto);
                        $rootScope.proyecto = $cookieStore.get('datosProyecto');
                        
                        $scope.EtapasProyecto(response.proyecto.Etapa);
                    }

                })
            }

            if ($rootScope.proyecto != undefined) {
                MenuService.AbrirProyecto($rootScope.proyecto.datos.id, function (response) {
                    if (response.success) {
                        
                        $rootScope.proyecto = {
                            datos: {
                                id: response.proyecto.IdProyecto,
                                Tema: response.proyecto.TemaProyecto,
                                IdUsuario: response.proyecto.IdUsuario,
                                Etapa: response.proyecto.Etapa
                            }
                        };
                        $rootScope.nombreProyecto = response.proyecto.TemaProyecto;
                        $scope.EtapasProyecto(response.proyecto.Etapa);
                        $cookies.putObject("datosProyecto", $rootScope.proyecto);
                    }

                });
            }

            //ANIMACIÓN MENÚ
            if ($rootScope.proyecto != undefined) {

                MenuService.AbrirProyecto($rootScope.proyecto.datos.id, function (response) {
                    if (response.success) {
                        //$scope.EtapasProyecto();
                    }
                });
            }

            //Función para colocar opacos los circulos
            $scope.DeshabilitarCirculos = function () {
                //matriz de vester
                $("#circuloDos").css({ 'background-color': 'rgb(255,255,255)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoDos").attr("src", "images/lluviaIdeas.png");
                $("#iconoDos").attr('value', 1);
                $("#flechaDos").fadeOut("fast");
                //arbol de problemas
                $("#circuloTres").css({ 'background-color': 'rgb(255,255,255)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoTres").attr("src", "images/arbolProb.png");
                $("#iconoTres").attr('value', 1);
                $("#flechaTres").fadeOut("fast");

                $("#circuloCuatro").css({ 'background-color': 'rgb(255,255,255)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoCuatro").attr("src", "images/arbol.png");
                $("#iconoCuatro").attr('value', 1);
                $("#flechaCuatro").fadeOut("fast");

                $("#circuloCinco").css({ 'background-color': 'rgb(255,255,255)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoCinco").attr("src", "images/perfil.png");
                $("#iconoCinco").attr('value', 1);
                $("#flechaCinco").fadeOut("fast");

                $("#circuloSeis").css({ 'background-color': 'rgb(255,255,255)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoSeis").attr("src", "images/grafica.png");
                $("#iconoSeis").attr('value', 1);
                $("#flechaSeis").fadeOut("fast");

                $("#circuloSiete").css({ 'background-color': 'rgb(255,255,255)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoSiete").attr("src", "images/calendario.png");
                $("#iconoSiete").attr('value', 1);
                $("#flechaSiete").fadeOut("fast");

                $("#circuloOcho").css({ 'background-color': 'rgb(255,255,255)', 'z-index': '1', 'border-radius': '50%' });
                $("#iconoOcho").attr("src", "images/matriz.png");
                $("#iconoOcho").attr('value', 1);
                $("#flechaOcho").fadeOut("fast");
            }

            //Función para activar los circulos ejecutados de un proyecto
            $scope.EtapasProyecto = function (Etapa) {
                if (Etapa >= 1) {
                    $("#circuloUno").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoUno").attr("src", "images/datosBasicosAct.png");
                    $("#iconoUno").attr('value', 2);
                    $('#flechaUno').fadeIn("slow");
                    $("#circuloUno").addClass("animated rotateIn");
                   
                    $(".campo:nth-child(1)").css({ 'left': '33%' })
                    

                    $("#circuloDos").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoDos").attr("src", "images/lluviaIdeasAct.png");
                    $("#iconoDos").attr('value', 2);
                    $('#flechaDos').fadeIn("slow");
                    $("#circuloDos").addClass("animated rotateIn");
                    $(".campo:nth-child(3)").css({ 'right': '25%' })
                    //$("#circuloTres").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    //$("#iconoTres").attr("src", "images/arbolProbAct.png");
                    //$("#iconoTres").attr('value', 2);
                    //$('#flechaTres').fadeIn("slow");
                }
                if (Etapa >= 2) {

                    $("#circuloTres").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoTres").attr("src", "images/arbolProbAct.png");
                    $("#iconoTres").attr('value', 2);
                    $('#flechaTres').fadeIn("slow");
                    $("#circuloTres").addClass("animated rotateIn");
                    $(".campo:nth-child(5)").css({ 'right': '10%' })
                    
                }

                if (Etapa >= 3) {

                    $("#circuloCuatro").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoCuatro").attr("src", "images/arbolAct.png");
                    $("#iconoCuatro").attr('value', 2);
                    $('#flechaCuatro').fadeIn("slow");
                    $("#circuloCuatro").addClass("animated rotateIn");
                    $(".campo:nth-child(7)").css({ 'left': '60%' })
                }

                if (Etapa >= 5) {

                    $("#circuloCinco").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoCinco").attr("src", "images/perfilAct.png");
                    $("#iconoCinco").attr('value', 2);
                    $('#flechaCinco').fadeIn("slow");
                    $("#circuloCinco").addClass("animated rotateIn");
                    $(".campo:nth-child(9)").css({ 'left': '34%' })
                }

                if (Etapa >= 6) {
                    $("#circuloSeis").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoSeis").attr("src", "images/graficaAct.png");
                    $("#iconoSeis").attr('value', 2);
                    $('#flechaSeis').fadeIn("slow");
                    $("#circuloSeis").addClass("animated rotateIn");
                    $(".campo:nth-child(11)").css({ 'left': '5%' })
                }

                if (Etapa >= 8) {
                    $("#circuloSiete").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoSiete").attr("src", "images/calendarioAct.png");
                    $("#iconoSiete").attr('value', 2);
                    $('#flechaSiete').fadeIn("slow");
                    $("#circuloSiete").addClass("animated rotateIn");
                    $(".campo:nth-child(13)").css({ 'left': '-7%' })
                }
                if (Etapa >= 10) {
                    $("#circuloOcho").css({ 'background-color': 'rgba(13, 132, 126, 0.24)', 'z-index': '1', 'border-radius': '50%' });
                    $("#iconoOcho").attr("src", "images/matrizAct.png");
                    $("#iconoOcho").attr('value', 2);
                    $('#flechaOcho').fadeIn("slow");
                    $("#circuloOcho").addClass("animated rotateIn");
                    $(".campo:nth-child(15)").css({ 'left': '12%' })
                }
            }


            //función para mostrar MIS PROYECTOS

            $("#proyectos").click(function () {
                $("#misProyectos").toggle("slow");
            });

            $scope.borrarProyecto = function () {
                swal({
                    title: '¿Esta seguro?',
                    text: "Si elimina el proyecto ... , perderá toda la información sobre este.",
                    type: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#238276',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Si, Eliminar',
                    cancelButtonText: 'No, Cancelar!',
                    confirmButtonClass: 'btn btn-success',
                    cancelButtonClass: 'btn btn-danger',
                    //preConfirm: function () {
                   
                    //}

                }).then(function () {
                    MenuService.EliminarProyecto($rootScope.proyecto.datos.id, function (response) {
                        if (response.success) {
                            swal({

                                confirmButtonColor: '#238276',
                                title: 'Borrado!',
                                text: 'Tu proyecto ha sido borrado.',
                                type: 'success'
                            }).then(function () {
                                $scope.DeshabilitarCirculos();
                                $cookies.remove("datosProyecto");
                                $rootScope.nombreProyecto = "";
                                $rootScope.InicioProyecto = 1;
                                MenuService.ConsultarProyectos($rootScope.globals.currentUser.id, function (response) {
                                    if (response.success) {
                                        $scope.Proyectos = response.proyectos;
                                    }
                                })
                                
                            })
                        } else {
                            alert("salio mal");
                        }
                    })
                }), function (dismiss) {
                    // dismiss can be 'cancel', 'overlay',
                    // 'close', and 'timer'
                    if (dismiss === 'cancel') {
                        swal({
                            confirmButtonColor: '#238276',
                            title : 'Eliminado',
                            text:'El proyecto ha sido eliminado!',
                            type: 'error',
                        })
                    }
                }
                    
            }

            $scope.Regresar = function () {

                $location.url("/Menu");
                $(".notify").hide();

            }


        }]);



