//var _0x22f3=['length','style','width','#imgEfecto','setAttribute','src','.png','#imgCausa','img/lineaD','img/sinLinea.png','#imgEfecto3\x20img','#efectoIndirecto\x20li:nth-child(',')\x20div','img/lineaU','#causaIndirecta\x20li:nth-child(','efecto','innerHTML','img','indirecto','.bloque\x20div\x20span','causa','#modal','display','block','none','.contenidoModal','top','-25%','CausasTotales','EfectosTotales','MediosIndTotales','FinesIndTotales','CausasIndTotales','EfectosIndTotales','IdProyecto','AbrirProyecto','success','Etapa','show','ConsultarArbolFinal','ArbolFinal','ProblemaCentral','#txtProblema','value','Consejo.','En\x20el\x20panel\x20de\x20la\x20izquierda\x20podras\x20crear\x20los\x20medios\x20y\x20fines.','each','Efectos','createElement','div','Efecto','<span></span><h6\x20class=\x27borrarElemento\x27\x20onclick=\x27borrarElemento(this)\x27>\x20Borrar</h6>','class','bloque','txtBloque2','maxlength','140','appendChild','li:last-child\x20div:last-child','#imgEfecto3','push','span','textarea','EfectoIndirecta','<h6\x20class=\x27borrarElemento\x27\x20onclick=\x27borrarElemento2(this)\x27>\x20Borrar</h6>','bloque2','txtBloque3','li:nth-child(',')\x20div:last-child','Causa','#imgCausa3','CausaIndirecta','#TabObjetivos','ConsultarArbolObjetivosFinal','ObjetivoCentral','Fines','fin','FinesIndirectos','Medios','MediosIndirectos','#guardar','#botonSiguienteArbol','mostrarPanel','-100%','Mostrar','30px','Ocultar','#elemento','#asignarIndirecta','<option\x20value=\x22vacio\x22>Seleccionar...</option>','efectoIndirecto','#txtIndirecta','option','Asiga\x20tu\x20efecto\x20indirecto\x20a\x20un\x20efecto\x20según\x20su\x20posición.','#indirecta','Asiga\x20tu\x20causa\x20indirecta\x20a\x20una\x20causa\x20según\x20su\x20posición.','crear','vacio','Debes\x20seleccionar\x20un\x20fin\x20o\x20un\x20medio.','causaIndirecta','Recuerda.','Debes\x20seleccionar\x20un\x20fin\x20o\x20un\x20medio\x20primero.','font-size:10px;','Ya\x20tienes\x205\x20fines.','Ya\x20tienes\x205\x20medios.','Ya\x20tienes\x203\x20fines\x20indirectos.','log','Ya\x20tienes\x203\x20medios\x20indirectos.','guardar','#efecto\x20li:nth-child(',')\x20textarea','#causa\x20li:nth-child(','#efecto','indirecto\x20div','indirecto\x20div:nth-child(','Ups!\x20tienes\x20algún\x20fin\x20indirecto\x20vacio','Ups!\x20tienes\x20algún\x20medio\x20indirecto\x20vacia','ObjArbol','.borrarElemento','#arbolContenedor','replace','imagen','GuardarDatosArbol','25%','ocultarArbol','medios1','#audioAyudaCuatro','css','#audioAyudaSeis','Objetivos','Especificos','ConsultarDatosObjetivos','DatosObjetivos','ObjetivoEsp','#verbo','#campoObjetivoGeneral','-10%','18%','ocultarObjetivos','#audioAyudaCinco','#ArbolObjetivos','.notify','mostrarResultados','mediosIndirectos','medios','Medio','prueba','Resultado1','MedidaResultado','HerramientaResultado','#Btnguardar','ObjetivosFinales','medioIndirectos','ObjetivosFinales1','medio','toString','Resultado','Producto','Herramienta','ProductoResultado','GuardarObjetivos','Registro\x20Exitoso','/Menu','Ups!\x20Debes\x20completar\x20los\x20campos\x20de\x20cada\x20resultado\x20esperado.','atras','url','controller','ArbolObjetivosController','$location','$cookies','MenuService','$routeParams','$sce','attr','disabled','#VistaObjetivos','hide','#vistaResultados','Arbol','proyecto','datos','DatosProyecto','PauseAudio','getElementById','audio-player','audio-player1','pause','audio-player2','CerrarAudio','requestAnimationFrame','mozRequestAnimationFrame','webkitRequestAnimationFrame','#panel','#alerta','querySelector','#causa','#efectoIndirecto','#causaIndirecta','#efecto\x20li','querySelectorAll','#causa\x20li','#efectoIndirecto\x20li','#causaIndirecta\x20li','#imgCausa3\x20img'];(function(_0x402715,_0x245857){var _0x3a2e1f=function(_0x1f0f41){while(--_0x1f0f41){_0x402715['push'](_0x402715['shift']());}};_0x3a2e1f(++_0x245857);}(_0x22f3,0x172));var _0x36fa=function(_0x3e1676,_0x354052){_0x3e1676=_0x3e1676-0x0;var _0x4f26fd=_0x22f3[_0x3e1676];return _0x4f26fd;};ManualApp[_0x36fa('0x0')](_0x36fa('0x1'),['$scope','$rootScope',_0x36fa('0x2'),'ArbolObjetivoService',_0x36fa('0x3'),'$cookieStore',_0x36fa('0x4'),_0x36fa('0x5'),_0x36fa('0x6'),function(_0x12277e,_0x3d5eea,_0x2bd0cf,_0x102197,_0x16f03a,_0x1e6af0,_0x50ec7a,_0x15927a,_0x3ef31b){VideoDemo=0x1;$('#resultados')[_0x36fa('0x7')](_0x36fa('0x8'),_0x36fa('0x8'));$(_0x36fa('0x9'))[_0x36fa('0xa')]();$(_0x36fa('0xb'))['hide']();_0x12277e[_0x36fa('0xc')]={'IdProyecto':_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')]['id'],'IdMatriz':'','ProblemaGeneral':'','DetalleMat':[{'Problema':'','EjeX':'','EjeY':'','Criterio':''}]};_0x12277e['ObjArbol']={'IdProyecto':_0x3d5eea['proyecto']['datos']['id'],'ObjetivoCentral':'','Medios':[{'Medio':'','MediosIndirectos':[{'indirecta':''}]}],'Fines':[{'fin':'','FinesIndirectos':[{'indirecto':''}]}]};_0x12277e['Objetivos']={'IdProyecto':_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')]['id'],'ObjetivoCentral':'','Medios':[{'Medio':'','MediosIndirectos':[{'indirecta':''}]}],'Fines':[{'fin':'','FinesIndirectos':[{'indirecto':''}]}]};_0x12277e[_0x36fa('0xf')]={'id':'','Tema':'','IdUsuario':'','Etapa':''};_0x12277e['ObjetivosFinales']={'IdProyecto':_0x3d5eea[_0x36fa('0xd')]['datos']['id'],'ObjetivoCentral':'','Objetivos':{'IdObjetivoGeneral':'','ObjetivoEsp':'','Resultado1':'','MedidaResultado':'','HerramientaResultado':'','ProductoResultado':''}};_0x12277e[_0x36fa('0x10')]=function(){setTimeout(function(){var _0x2871fb=document[_0x36fa('0x11')](_0x36fa('0x12'));_0x2871fb['pause']();},0x3e8);setTimeout(function(){var _0x168a76=document[_0x36fa('0x11')](_0x36fa('0x13'));_0x168a76[_0x36fa('0x14')]();},0x3e8);setTimeout(function(){var _0x2f9fa0=document[_0x36fa('0x11')](_0x36fa('0x15'));_0x2f9fa0['pause']();},0x3e8);};_0x12277e[_0x36fa('0x16')]=function(){setTimeout(function(){var _0x44c463=document[_0x36fa('0x11')](_0x36fa('0x12'));_0x44c463[_0x36fa('0x14')]();},0x3e8);setTimeout(function(){var _0x10b142=document[_0x36fa('0x11')](_0x36fa('0x13'));_0x10b142['pause']();},0x3e8);setTimeout(function(){var _0x10f4ab=document[_0x36fa('0x11')](_0x36fa('0x15'));_0x10f4ab[_0x36fa('0x14')]();},0x3e8);};var _0x7b76f4=window[_0x36fa('0x17')]||window[_0x36fa('0x18')]||window[_0x36fa('0x19')]||window['msRequestAnimationFrame'];var _0x2c08e8=document['querySelector'](_0x36fa('0x1a'));var _0x480fb8=document['querySelector']('#mostrarPanel\x20h6');var _0x34e222=document['querySelector'](_0x36fa('0x1b'));var _0x5287aa=!![],_0x214a3e,_0x16f83f,_0x3f9c8f,_0x31feac,_0xe77c4b,_0x4f65ba,_0x367039,_0x134674,_0x19b0b1,_0x4c41e0,_0x54ee00,_0x5a2d4f;var _0x3fd09c;_0xe77c4b=document[_0x36fa('0x1c')]('#efecto');_0x4f65ba=document[_0x36fa('0x1c')](_0x36fa('0x1d'));efectoIndirectoUl=document[_0x36fa('0x1c')](_0x36fa('0x1e'));causaIndirectaUl=document[_0x36fa('0x1c')](_0x36fa('0x1f'));function _0x284705(){efectos=document['querySelectorAll'](_0x36fa('0x20'));causas=document[_0x36fa('0x21')](_0x36fa('0x22'));efectosIndirectos=document[_0x36fa('0x21')](_0x36fa('0x23'));causasIndirectas=document[_0x36fa('0x21')](_0x36fa('0x24'));_0x3fd09c=document[_0x36fa('0x21')]('#imgEfecto3\x20img');_0x54ee00=document[_0x36fa('0x21')](_0x36fa('0x25'));if(efectosIndirectos[_0x36fa('0x26')]==0x1){_0x3fd09c[0x0]['style']['width']=0x32+'%';}else{for(var _0x295c7f=0x0;_0x295c7f<_0x3fd09c[_0x36fa('0x26')];_0x295c7f++){_0x3fd09c[_0x295c7f][_0x36fa('0x27')]['width']=0x64/efectos['length']+'%';}}if(causasIndirectas[_0x36fa('0x26')]==0x1){_0x54ee00[0x0][_0x36fa('0x27')][_0x36fa('0x28')]=0x32+'%';}else{for(var _0x295c7f=0x0;_0x295c7f<_0x54ee00[_0x36fa('0x26')];_0x295c7f++){_0x54ee00[_0x295c7f]['style'][_0x36fa('0x28')]=0x64/causas[_0x36fa('0x26')]+'%';}}for(var _0x295c7f=0x0;_0x295c7f<efectos[_0x36fa('0x26')];_0x295c7f++){efectos[_0x295c7f][_0x36fa('0x27')][_0x36fa('0x28')]=0x64/efectos['length']+'%';}for(var _0x295c7f=0x0;_0x295c7f<causas[_0x36fa('0x26')];_0x295c7f++){causas[_0x295c7f]['style'][_0x36fa('0x28')]=0x64/causas[_0x36fa('0x26')]+'%';}if(efectosIndirectos[_0x36fa('0x26')]==0x1){efectosIndirectos[0x0][_0x36fa('0x27')][_0x36fa('0x28')]=0x32+'%';}else{for(var _0x295c7f=0x0;_0x295c7f<efectosIndirectos[_0x36fa('0x26')];_0x295c7f++){efectosIndirectos[_0x295c7f][_0x36fa('0x27')][_0x36fa('0x28')]=0x64/efectos[_0x36fa('0x26')]+'%';}}if(causasIndirectas[_0x36fa('0x26')]==0x1){causasIndirectas[0x0][_0x36fa('0x27')]['width']=0x32+'%';}else{for(var _0x295c7f=0x0;_0x295c7f<causasIndirectas[_0x36fa('0x26')];_0x295c7f++){causasIndirectas[_0x295c7f][_0x36fa('0x27')][_0x36fa('0x28')]=0x64/causas[_0x36fa('0x26')]+'%';}}if(efectos[_0x36fa('0x26')]!=0x0){document[_0x36fa('0x1c')](_0x36fa('0x29'))[_0x36fa('0x2a')](_0x36fa('0x2b'),'img/lineaU'+efectos['length']+_0x36fa('0x2c'));}else{}if(causas['length']!=0x0){document[_0x36fa('0x1c')](_0x36fa('0x2d'))[_0x36fa('0x2a')](_0x36fa('0x2b'),_0x36fa('0x2e')+causas[_0x36fa('0x26')]+_0x36fa('0x2c'));}else{document[_0x36fa('0x1c')](_0x36fa('0x2d'))[_0x36fa('0x2a')](_0x36fa('0x2b'),_0x36fa('0x2f'));}var _0x9da28c=document[_0x36fa('0x21')](_0x36fa('0x30'));if(_0x9da28c[_0x36fa('0x26')]!=0x0){for(var _0x295c7f=0x0;_0x295c7f<_0x9da28c[_0x36fa('0x26')];_0x295c7f++){var _0x1c59f1=document[_0x36fa('0x21')](_0x36fa('0x31')+(_0x295c7f+0x1)+_0x36fa('0x32'));if(_0x1c59f1[_0x36fa('0x26')]!=0x0){_0x9da28c[_0x295c7f][_0x36fa('0x2a')](_0x36fa('0x2b'),_0x36fa('0x33')+_0x1c59f1[_0x36fa('0x26')]+_0x36fa('0x2c'));}else{_0x9da28c[_0x295c7f]['setAttribute'](_0x36fa('0x2b'),'img/sinLinea.png');}}}var _0x5c56c1=document[_0x36fa('0x21')](_0x36fa('0x25'));if(_0x5c56c1[_0x36fa('0x26')]!=0x0){for(var _0x295c7f=0x0;_0x295c7f<_0x5c56c1['length'];_0x295c7f++){var _0x1c59f1=document['querySelectorAll'](_0x36fa('0x34')+(_0x295c7f+0x1)+_0x36fa('0x32'));if(_0x1c59f1[_0x36fa('0x26')]!=0x0){_0x5c56c1[_0x295c7f][_0x36fa('0x2a')](_0x36fa('0x2b'),_0x36fa('0x2e')+_0x1c59f1[_0x36fa('0x26')]+_0x36fa('0x2c'));}else{_0x5c56c1[_0x295c7f][_0x36fa('0x2a')]('src',_0x36fa('0x2f'));}}}for(var _0x295c7f=0x0;_0x295c7f<efectos[_0x36fa('0x26')];_0x295c7f++){efectos[_0x295c7f][_0x36fa('0x2a')]('id',_0x36fa('0x35')+(_0x295c7f+0x1));efectos[_0x295c7f]['querySelector']('.bloque\x20div\x20span')[_0x36fa('0x36')]=_0x295c7f+0x1+'.';_0x3fd09c[_0x295c7f][_0x36fa('0x2a')]('id','efecto'+(_0x295c7f+0x1)+_0x36fa('0x37'));efectosIndirectos[_0x295c7f][_0x36fa('0x2a')]('id',_0x36fa('0x35')+(_0x295c7f+0x1)+_0x36fa('0x38'));}for(var _0x295c7f=0x0;_0x295c7f<causas[_0x36fa('0x26')];_0x295c7f++){causas[_0x295c7f][_0x36fa('0x2a')]('id','causa'+(_0x295c7f+0x1));causas[_0x295c7f]['querySelector'](_0x36fa('0x39'))[_0x36fa('0x36')]=_0x295c7f+0x1+'.';_0x54ee00[_0x295c7f]['setAttribute']('id',_0x36fa('0x3a')+(_0x295c7f+0x1)+'img');causasIndirectas[_0x295c7f][_0x36fa('0x2a')]('id','causa'+(_0x295c7f+0x1)+_0x36fa('0x38'));}_0x7b76f4(_0x284705);}_0x7b76f4(_0x284705);function _0x507a9c(_0x3b6cd2){document[_0x36fa('0x1c')](_0x36fa('0x3b'))[_0x36fa('0x27')][_0x36fa('0x3c')]=_0x36fa('0x3d');document[_0x36fa('0x1c')](_0x3b6cd2)['style'][_0x36fa('0x3c')]=_0x36fa('0x3d');}function _0x222c24(){document[_0x36fa('0x1c')](_0x36fa('0x3b'))[_0x36fa('0x27')][_0x36fa('0x3c')]=_0x36fa('0x3e');var _0x2bde17=document[_0x36fa('0x21')](_0x36fa('0x3f'));for(var _0x25aaa5=0x0;_0x25aaa5<_0x2bde17[_0x36fa('0x26')];_0x25aaa5++){_0x2bde17[_0x25aaa5][_0x36fa('0x27')]['display']=_0x36fa('0x3e');}}function _0x570330(_0x2a827d,_0x3e97c3,_0x1c08d0){_0x34e222[_0x36fa('0x27')]['top']='5%';_0x34e222[_0x36fa('0x1c')]('h3')[_0x36fa('0x36')]=_0x2a827d;_0x34e222[_0x36fa('0x1c')]('p')[_0x36fa('0x36')]=_0x3e97c3;setTimeout(function(){_0x34e222[_0x36fa('0x27')][_0x36fa('0x40')]=_0x36fa('0x41');},_0x1c08d0*0x3e8);}var _0x599bf6=0x0;var _0x2118fe=0x0;_0x12277e[_0x36fa('0x42')]=[];_0x12277e[_0x36fa('0x43')]=[];_0x12277e[_0x36fa('0x44')]=[];_0x12277e[_0x36fa('0x45')]=[];_0x12277e[_0x36fa('0x46')]=[];_0x12277e[_0x36fa('0x47')]=[];_0x12277e[_0x36fa('0x48')]=_0x3d5eea['proyecto'][_0x36fa('0xe')]['id'];_0x50ec7a[_0x36fa('0x49')](_0x12277e[_0x36fa('0x48')],function(_0x1a7918){if(_0x1a7918[_0x36fa('0x4a')]){_0x12277e[_0x36fa('0xf')]=_0x1a7918[_0x36fa('0xd')];_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')][_0x36fa('0x4b')]=_0x12277e[_0x36fa('0xf')][_0x36fa('0x4b')];waitingDialog[_0x36fa('0x4c')]();if(_0x3d5eea[_0x36fa('0xd')]!=undefined){if(_0x12277e[_0x36fa('0xf')]['Etapa']<0x4){_0x102197[_0x36fa('0x4d')](_0x3d5eea['proyecto']['datos']['id'],function(_0x17ee48){if(_0x17ee48['success']){var _0x582937=_0x17ee48[_0x36fa('0x4e')][_0x36fa('0x4f')];document[_0x36fa('0x1c')](_0x36fa('0x50'))[_0x36fa('0x51')]=_0x582937;_0x570330(_0x36fa('0x52'),_0x36fa('0x53'),0x5);$[_0x36fa('0x54')](_0x17ee48['ArbolFinal'][_0x36fa('0x55')],function(_0x126b72,_0x16959a){_0x19b0b1=document[_0x36fa('0x56')]('img');elemento=document[_0x36fa('0x56')]('li');elemento2=document['createElement']('li');bloque=document['createElement'](_0x36fa('0x57'));borrar=document[_0x36fa('0x56')](_0x36fa('0x57'));txtArea=document['createElement']('textarea');txtArea[_0x36fa('0x51')]=_0x16959a[_0x36fa('0x58')];borrar[_0x36fa('0x36')]=_0x36fa('0x59');bloque[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x5b'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x5c'));txtArea['setAttribute'](_0x36fa('0x5d'),_0x36fa('0x5e'));_0xe77c4b[_0x36fa('0x5f')](elemento)[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](borrar);_0xe77c4b[_0x36fa('0x1c')](_0x36fa('0x60'))[_0x36fa('0x5f')](txtArea);document['querySelector'](_0x36fa('0x61'))[_0x36fa('0x5f')](_0x19b0b1);document[_0x36fa('0x1c')](_0x36fa('0x1e'))[_0x36fa('0x5f')](elemento2);$[_0x36fa('0x54')](_0x16959a['EfectoIndirecta'],function(_0x56aa78,_0xf5dd79){_0x12277e[_0x36fa('0x47')][_0x36fa('0x62')]({'id':_0x126b72,'EfectoIndirecta':_0x16959a['EfectoIndirecta'][_0x56aa78]});});});var _0x527959=0x0;$['each'](_0x12277e['EfectosIndTotales'],function(_0x55d261,_0x1702a5){_0x527959=_0x1702a5['id']+0x1;bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document['createElement'](_0x36fa('0x63'));txtArea=document[_0x36fa('0x56')](_0x36fa('0x64'));txtArea[_0x36fa('0x51')]=_0x1702a5[_0x36fa('0x65')];borrar[_0x36fa('0x36')]=_0x36fa('0x66');bloque['setAttribute']('class',_0x36fa('0x67'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x68'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5d'),_0x36fa('0x5e'));efectoIndirectoUl[_0x36fa('0x1c')]('li:nth-child('+_0x527959+')')[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](txtArea);efectoIndirectoUl['querySelector'](_0x36fa('0x69')+_0x527959+_0x36fa('0x6a'))[_0x36fa('0x5f')](borrar);});$[_0x36fa('0x54')](_0x17ee48[_0x36fa('0x4e')]['Causas'],function(_0xf8bfb9,_0x27b184){_0x19b0b1=document[_0x36fa('0x56')](_0x36fa('0x37'));elemento=document[_0x36fa('0x56')]('li');elemento2=document[_0x36fa('0x56')]('li');bloque=document['createElement']('div');borrar=document[_0x36fa('0x56')](_0x36fa('0x57'));txtArea=document[_0x36fa('0x56')](_0x36fa('0x64'));txtArea[_0x36fa('0x51')]=_0x27b184[_0x36fa('0x6b')];borrar[_0x36fa('0x36')]=_0x36fa('0x59');bloque['setAttribute'](_0x36fa('0x5a'),'bloque');txtArea[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x5c'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5d'),'140');_0x4f65ba[_0x36fa('0x5f')](elemento)[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](borrar);_0x4f65ba['querySelector'](_0x36fa('0x60'))[_0x36fa('0x5f')](txtArea);document[_0x36fa('0x1c')](_0x36fa('0x6c'))[_0x36fa('0x5f')](_0x19b0b1);document['querySelector'](_0x36fa('0x1f'))[_0x36fa('0x5f')](elemento2);$[_0x36fa('0x54')](_0x27b184[_0x36fa('0x6d')],function(_0x5675cf,_0x10aa3a){_0x12277e[_0x36fa('0x46')]['push']({'id':_0xf8bfb9,'CausaIndirecta':_0x27b184[_0x36fa('0x6d')][_0x5675cf]});});});var _0x2abe96=0x0;$[_0x36fa('0x54')](_0x12277e['CausasIndTotales'],function(_0x51fa01,_0x383349){_0x2abe96=_0x383349['id']+0x1;bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document[_0x36fa('0x56')](_0x36fa('0x63'));txtArea=document[_0x36fa('0x56')](_0x36fa('0x64'));txtArea[_0x36fa('0x51')]=_0x383349[_0x36fa('0x6d')];borrar[_0x36fa('0x36')]=_0x36fa('0x66');bloque[_0x36fa('0x2a')](_0x36fa('0x5a'),'bloque2');txtArea['setAttribute'](_0x36fa('0x5a'),_0x36fa('0x68'));txtArea['setAttribute'](_0x36fa('0x5d'),'140');causaIndirectaUl['querySelector'](_0x36fa('0x69')+_0x2abe96+')')[_0x36fa('0x5f')](bloque)['appendChild'](txtArea);causaIndirectaUl[_0x36fa('0x1c')](_0x36fa('0x69')+_0x2abe96+')\x20div:last-child')[_0x36fa('0x5f')](borrar);});}waitingDialog['hide']();$(_0x36fa('0x6e'))[_0x36fa('0x7')]('disabled','disabled');});}else{_0x102197[_0x36fa('0x6f')](_0x3d5eea['proyecto'][_0x36fa('0xe')]['id'],function(_0x5db063){if(_0x5db063[_0x36fa('0x4a')]){var _0x3dae2e=_0x5db063[_0x36fa('0x4e')][_0x36fa('0x70')];document[_0x36fa('0x1c')](_0x36fa('0x50'))[_0x36fa('0x51')]=_0x3dae2e;_0x570330('Consejo.','En\x20el\x20panel\x20de\x20la\x20izquierda\x20podras\x20crear\x20los\x20medios\x20y\x20fines.',0x5);$[_0x36fa('0x54')](_0x5db063['ArbolFinal'][_0x36fa('0x71')],function(_0xc2178d,_0x10cd39){_0x19b0b1=document[_0x36fa('0x56')](_0x36fa('0x37'));elemento=document[_0x36fa('0x56')]('li');elemento2=document[_0x36fa('0x56')]('li');bloque=document['createElement']('div');borrar=document['createElement'](_0x36fa('0x57'));txtArea=document[_0x36fa('0x56')](_0x36fa('0x64'));txtArea['value']=_0x10cd39[_0x36fa('0x72')];borrar[_0x36fa('0x36')]=_0x36fa('0x59');bloque[_0x36fa('0x2a')](_0x36fa('0x5a'),'bloque');txtArea[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x5c'));txtArea['setAttribute']('maxlength',_0x36fa('0x5e'));_0xe77c4b[_0x36fa('0x5f')](elemento)[_0x36fa('0x5f')](bloque)['appendChild'](borrar);_0xe77c4b[_0x36fa('0x1c')](_0x36fa('0x60'))[_0x36fa('0x5f')](txtArea);document[_0x36fa('0x1c')](_0x36fa('0x61'))[_0x36fa('0x5f')](_0x19b0b1);document['querySelector'](_0x36fa('0x1e'))[_0x36fa('0x5f')](elemento2);$[_0x36fa('0x54')](_0x10cd39['FinesIndirectos'],function(_0x27f8fb,_0xfaf344){_0x12277e[_0x36fa('0x45')][_0x36fa('0x62')]({'id':_0xc2178d,'FinesIndirectos':_0x10cd39[_0x36fa('0x73')][_0x27f8fb]});});});var _0x15503d=0x0;$[_0x36fa('0x54')](_0x12277e[_0x36fa('0x45')],function(_0x5f0628,_0x2b13a5){_0x15503d=_0x2b13a5['id']+0x1;bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document[_0x36fa('0x56')](_0x36fa('0x63'));txtArea=document['createElement'](_0x36fa('0x64'));txtArea['value']=_0x2b13a5[_0x36fa('0x73')];borrar[_0x36fa('0x36')]='<h6\x20class=\x27borrarElemento\x27\x20onclick=\x27borrarElemento2(this)\x27>\x20Borrar</h6>';bloque['setAttribute'](_0x36fa('0x5a'),_0x36fa('0x67'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x68'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5d'),_0x36fa('0x5e'));efectoIndirectoUl[_0x36fa('0x1c')](_0x36fa('0x69')+_0x15503d+')')[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](txtArea);efectoIndirectoUl[_0x36fa('0x1c')](_0x36fa('0x69')+_0x15503d+_0x36fa('0x6a'))[_0x36fa('0x5f')](borrar);});$['each'](_0x5db063[_0x36fa('0x4e')][_0x36fa('0x74')],function(_0xc0884,_0x20f2b2){_0x19b0b1=document[_0x36fa('0x56')]('img');elemento=document['createElement']('li');elemento2=document[_0x36fa('0x56')]('li');bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document['createElement'](_0x36fa('0x57'));txtArea=document[_0x36fa('0x56')](_0x36fa('0x64'));txtArea['value']=_0x20f2b2['Medio'];borrar[_0x36fa('0x36')]=_0x36fa('0x59');bloque[_0x36fa('0x2a')](_0x36fa('0x5a'),'bloque');txtArea[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x5c'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5d'),_0x36fa('0x5e'));_0x4f65ba[_0x36fa('0x5f')](elemento)[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](borrar);_0x4f65ba[_0x36fa('0x1c')](_0x36fa('0x60'))[_0x36fa('0x5f')](txtArea);document[_0x36fa('0x1c')](_0x36fa('0x6c'))[_0x36fa('0x5f')](_0x19b0b1);document[_0x36fa('0x1c')](_0x36fa('0x1f'))[_0x36fa('0x5f')](elemento2);$[_0x36fa('0x54')](_0x20f2b2[_0x36fa('0x75')],function(_0x5267e6,_0x5c90f7){_0x12277e[_0x36fa('0x44')][_0x36fa('0x62')]({'id':_0xc0884,'MediosIndirectos':_0x20f2b2[_0x36fa('0x75')][_0x5267e6]});});});var _0x45e5cd=0x0;$[_0x36fa('0x54')](_0x12277e[_0x36fa('0x44')],function(_0x58cc3c,_0x582f3b){_0x45e5cd=_0x582f3b['id']+0x1;bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document['createElement'](_0x36fa('0x63'));txtArea=document['createElement'](_0x36fa('0x64'));txtArea[_0x36fa('0x51')]=_0x582f3b[_0x36fa('0x75')];borrar[_0x36fa('0x36')]=_0x36fa('0x66');bloque[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x67'));txtArea[_0x36fa('0x2a')](_0x36fa('0x5a'),'txtBloque3');txtArea[_0x36fa('0x2a')](_0x36fa('0x5d'),_0x36fa('0x5e'));causaIndirectaUl[_0x36fa('0x1c')]('li:nth-child('+_0x45e5cd+')')[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](txtArea);causaIndirectaUl[_0x36fa('0x1c')](_0x36fa('0x69')+_0x45e5cd+_0x36fa('0x6a'))[_0x36fa('0x5f')](borrar);});}$(_0x36fa('0x76'))['hide']();$(_0x36fa('0x77'))[_0x36fa('0x4c')]();waitingDialog[_0x36fa('0xa')]();});}}}});_0x12277e[_0x36fa('0x78')]=function(){if(_0x5287aa){_0x2c08e8['style'][_0x36fa('0x40')]=_0x36fa('0x79');_0x480fb8['innerHTML']=_0x36fa('0x7a');_0x5287aa=![];}else{_0x2c08e8[_0x36fa('0x27')][_0x36fa('0x40')]=_0x36fa('0x7b');_0x480fb8[_0x36fa('0x36')]=_0x36fa('0x7c');_0x5287aa=!![];}};_0x12277e['cambioElemento']=function(){_0x3f9c8f=document[_0x36fa('0x1c')](_0x36fa('0x7d'))[_0x36fa('0x51')];document[_0x36fa('0x1c')](_0x36fa('0x7e'))[_0x36fa('0x36')]=_0x36fa('0x7f');if(_0x3f9c8f==_0x36fa('0x80')){document[_0x36fa('0x1c')]('#indirecta')['style'][_0x36fa('0x3c')]='block';document[_0x36fa('0x1c')](_0x36fa('0x81'))[_0x36fa('0x36')]=_0x36fa('0x35');for(var _0x52b8d1=0x0;_0x52b8d1<efectos[_0x36fa('0x26')];_0x52b8d1++){var _0x4f6d5c=document[_0x36fa('0x56')](_0x36fa('0x82'));_0x4f6d5c[_0x36fa('0x36')]=_0x52b8d1+0x1;_0x4f6d5c['setAttribute'](_0x36fa('0x51'),_0x52b8d1+0x1);document[_0x36fa('0x1c')]('#asignarIndirecta')[_0x36fa('0x5f')](_0x4f6d5c);_0x570330(_0x36fa('0x52'),_0x36fa('0x83'),0x3);}}else if(_0x3f9c8f=='causaIndirecta'){document[_0x36fa('0x1c')](_0x36fa('0x84'))[_0x36fa('0x27')]['display']='block';document[_0x36fa('0x1c')](_0x36fa('0x81'))[_0x36fa('0x36')]='causa';for(var _0x52b8d1=0x0;_0x52b8d1<causas[_0x36fa('0x26')];_0x52b8d1++){var _0x4f6d5c=document[_0x36fa('0x56')]('option');_0x4f6d5c['innerHTML']=_0x52b8d1+0x1;_0x4f6d5c['setAttribute'](_0x36fa('0x51'),_0x52b8d1+0x1);document[_0x36fa('0x1c')]('#asignarIndirecta')['appendChild'](_0x4f6d5c);_0x570330(_0x36fa('0x52'),_0x36fa('0x85'),0x3);}}else{document[_0x36fa('0x1c')](_0x36fa('0x84'))[_0x36fa('0x27')][_0x36fa('0x3c')]=_0x36fa('0x3e');}};_0x12277e[_0x36fa('0x86')]=function(){_0x367039=document[_0x36fa('0x1c')]('#asignarIndirecta')[_0x36fa('0x51')];var _0xece6c7,_0x3a5383,_0x5ecfdb;if(_0x3f9c8f===_0x36fa('0x87')||_0x3f9c8f===undefined){_0x570330('Recuerda.',_0x36fa('0x88'),0x3);}if(_0x367039=='vacio'&&_0x3f9c8f==_0x36fa('0x80')||_0x3f9c8f==_0x36fa('0x89')){_0x570330(_0x36fa('0x8a'),_0x36fa('0x8b'),0x3);}if(_0x3f9c8f==_0x36fa('0x35')&&efectos[_0x36fa('0x26')]<0x5){_0x19b0b1=document[_0x36fa('0x56')](_0x36fa('0x37'));_0xece6c7=document[_0x36fa('0x56')]('li');_0x5ecfdb=document[_0x36fa('0x56')]('li');bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document[_0x36fa('0x56')](_0x36fa('0x57'));_0x3a5383=document[_0x36fa('0x56')]('textarea');_0x3a5383['value']='';borrar[_0x36fa('0x36')]=_0x36fa('0x59');bloque[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x5b'));_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x5c'));_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x5d'),_0x36fa('0x5e'));_0x3a5383[_0x36fa('0x2a')]('style',_0x36fa('0x8c'));_0xe77c4b[_0x36fa('0x5f')](_0xece6c7)[_0x36fa('0x5f')](bloque)['appendChild'](borrar);_0xe77c4b[_0x36fa('0x1c')](_0x36fa('0x60'))[_0x36fa('0x5f')](_0x3a5383);document[_0x36fa('0x1c')]('#imgEfecto3')[_0x36fa('0x5f')](_0x19b0b1);document[_0x36fa('0x1c')](_0x36fa('0x1e'))[_0x36fa('0x5f')](_0x5ecfdb);}else if(_0x3f9c8f==_0x36fa('0x35')&&efectos[_0x36fa('0x26')]>=0x5){_0x570330(_0x36fa('0x8a'),_0x36fa('0x8d'),0x2);}if(_0x3f9c8f=='causa'&&causas[_0x36fa('0x26')]<0x5){_0x19b0b1=document[_0x36fa('0x56')](_0x36fa('0x37'));_0xece6c7=document[_0x36fa('0x56')]('li');_0x5ecfdb=document[_0x36fa('0x56')]('li');bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document[_0x36fa('0x56')](_0x36fa('0x57'));_0x3a5383=document['createElement'](_0x36fa('0x64'));borrar[_0x36fa('0x36')]=_0x36fa('0x59');bloque[_0x36fa('0x2a')](_0x36fa('0x5a'),'bloque');_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x5a'),'txtBloque2');_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x5d'),'140');_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x27'),_0x36fa('0x8c'));_0x4f65ba[_0x36fa('0x5f')](_0xece6c7)['appendChild'](bloque)[_0x36fa('0x5f')](borrar);_0x4f65ba[_0x36fa('0x1c')](_0x36fa('0x60'))[_0x36fa('0x5f')](_0x3a5383);document[_0x36fa('0x1c')](_0x36fa('0x6c'))[_0x36fa('0x5f')](_0x19b0b1);document[_0x36fa('0x1c')](_0x36fa('0x1f'))[_0x36fa('0x5f')](_0x5ecfdb);}else if(_0x3f9c8f==_0x36fa('0x3a')&&causas['length']>=0x5){_0x570330(_0x36fa('0x8a'),_0x36fa('0x8e'),0x2);}if(_0x367039!=_0x36fa('0x87')){if(_0x3f9c8f==_0x36fa('0x80')&&document[_0x36fa('0x21')](_0x36fa('0x31')+_0x367039+_0x36fa('0x32'))[_0x36fa('0x26')]<0x3){bloque=document[_0x36fa('0x56')](_0x36fa('0x57'));borrar=document['createElement'](_0x36fa('0x63'));_0x3a5383=document[_0x36fa('0x56')](_0x36fa('0x64'));borrar[_0x36fa('0x36')]=_0x36fa('0x66');bloque[_0x36fa('0x2a')]('class',_0x36fa('0x67'));_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x5a'),_0x36fa('0x68'));_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x5d'),_0x36fa('0x5e'));efectoIndirectoUl[_0x36fa('0x1c')](_0x36fa('0x69')+_0x367039+')')[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](_0x3a5383);efectoIndirectoUl[_0x36fa('0x1c')](_0x36fa('0x69')+_0x367039+_0x36fa('0x6a'))[_0x36fa('0x5f')](borrar);}else if(document['querySelectorAll'](_0x36fa('0x31')+_0x367039+')\x20div')[_0x36fa('0x26')]>=0x3){_0x570330(_0x36fa('0x8a'),_0x36fa('0x8f'),0x2);}if(_0x3f9c8f==_0x36fa('0x89')&&document[_0x36fa('0x21')]('#causaIndirecta\x20li:nth-child('+_0x367039+_0x36fa('0x32'))[_0x36fa('0x26')]<0x3){console[_0x36fa('0x90')](_0x367039);bloque=document[_0x36fa('0x56')]('div');borrar=document[_0x36fa('0x56')]('span');_0x3a5383=document[_0x36fa('0x56')]('textarea');borrar[_0x36fa('0x36')]=_0x36fa('0x66');bloque[_0x36fa('0x2a')]('class',_0x36fa('0x67'));_0x3a5383['setAttribute'](_0x36fa('0x5a'),_0x36fa('0x68'));_0x3a5383[_0x36fa('0x2a')](_0x36fa('0x5d'),_0x36fa('0x5e'));causaIndirectaUl[_0x36fa('0x1c')]('li:nth-child('+_0x367039+')')[_0x36fa('0x5f')](bloque)[_0x36fa('0x5f')](_0x3a5383);causaIndirectaUl[_0x36fa('0x1c')](_0x36fa('0x69')+_0x367039+_0x36fa('0x6a'))[_0x36fa('0x5f')](borrar);}else if(document[_0x36fa('0x21')](_0x36fa('0x34')+_0x367039+')\x20div')[_0x36fa('0x26')]>=0x3){_0x570330(_0x36fa('0x8a'),_0x36fa('0x91'),0x2);}}};_0x12277e[_0x36fa('0x92')]=function(){var _0x20039e=document[_0x36fa('0x1c')](_0x36fa('0x50'))[_0x36fa('0x51')];var _0x23f3f2=[];var _0x30ffec=[];var _0x3177b4=[];var _0x5a6449=[];for(var _0x3cc0d7=0x0;_0x3cc0d7<efectos[_0x36fa('0x26')];_0x3cc0d7++){var _0x446828=document[_0x36fa('0x1c')](_0x36fa('0x93')+(_0x3cc0d7+0x1)+_0x36fa('0x94'))[_0x36fa('0x51')];if(_0x446828!=''){_0x23f3f2[_0x3cc0d7]=document[_0x36fa('0x1c')](_0x36fa('0x93')+(_0x3cc0d7+0x1)+_0x36fa('0x94'))[_0x36fa('0x51')];}else{alertify[_0x36fa('0x4a')]('Ups!\x20tienes\x20algún\x20fin\x20vacio');return;}}for(var _0x3cc0d7=0x0;_0x3cc0d7<causas[_0x36fa('0x26')];_0x3cc0d7++){var _0x4bec22=_0x30ffec[_0x3cc0d7]=document['querySelector'](_0x36fa('0x95')+(_0x3cc0d7+0x1)+_0x36fa('0x94'))[_0x36fa('0x51')];if(_0x4bec22!=''){_0x30ffec[_0x3cc0d7]=document['querySelector'](_0x36fa('0x95')+(_0x3cc0d7+0x1)+_0x36fa('0x94'))[_0x36fa('0x51')];}else{alertify[_0x36fa('0x4a')]('Ups!\x20tienes\x20algún\x20medio\x20vacio');return;}}for(var _0x3cc0d7=0x0;_0x3cc0d7<efectos['length'];_0x3cc0d7++){var _0x446774=[];for(var _0x510a8f=0x0;_0x510a8f<document[_0x36fa('0x21')](_0x36fa('0x96')+(_0x3cc0d7+0x1)+_0x36fa('0x97'))[_0x36fa('0x26')];_0x510a8f++){var _0x510998=_0x446774[_0x510a8f]=document[_0x36fa('0x1c')](_0x36fa('0x96')+(_0x3cc0d7+0x1)+_0x36fa('0x98')+(_0x510a8f+0x1)+_0x36fa('0x94'))['value'];if(_0x510998!=''){_0x446774[_0x510a8f]=document['querySelector'](_0x36fa('0x96')+(_0x3cc0d7+0x1)+'indirecto\x20div:nth-child('+(_0x510a8f+0x1)+_0x36fa('0x94'))['value'];}else{alertify['success'](_0x36fa('0x99'));return;}}_0x3177b4[_0x36fa('0x62')](_0x446774);}for(var _0x3cc0d7=0x0;_0x3cc0d7<causas[_0x36fa('0x26')];_0x3cc0d7++){var _0x446774=[];for(var _0x510a8f=0x0;_0x510a8f<document[_0x36fa('0x21')](_0x36fa('0x1d')+(_0x3cc0d7+0x1)+_0x36fa('0x97'))[_0x36fa('0x26')];_0x510a8f++){var _0x248fd2=_0x446774[_0x510a8f]=document[_0x36fa('0x1c')](_0x36fa('0x1d')+(_0x3cc0d7+0x1)+_0x36fa('0x98')+(_0x510a8f+0x1)+_0x36fa('0x94'))[_0x36fa('0x51')];if(_0x248fd2!=''){_0x446774[_0x510a8f]=document[_0x36fa('0x1c')](_0x36fa('0x1d')+(_0x3cc0d7+0x1)+_0x36fa('0x98')+(_0x510a8f+0x1)+_0x36fa('0x94'))[_0x36fa('0x51')];}else{alertify[_0x36fa('0x4a')](_0x36fa('0x9a'));return;}}_0x5a6449[_0x36fa('0x62')](_0x446774);}_0x12277e[_0x36fa('0x9b')]['ObjetivoCentral']=_0x20039e;$[_0x36fa('0x54')](_0x30ffec,function(_0x5aa15e,_0x332f17){if(_0x332f17!=''){_0x12277e[_0x36fa('0x9b')][_0x36fa('0x74')][_0x36fa('0x62')]({'Medio':_0x332f17,'MediosIndirectos':_0x5a6449[_0x5aa15e]});}});$[_0x36fa('0x54')](_0x23f3f2,function(_0x59cebd,_0x34ee47){_0x12277e[_0x36fa('0x9b')][_0x36fa('0x71')][_0x36fa('0x62')]({'fin':_0x34ee47,'FinesIndirectos':_0x3177b4[_0x59cebd]});});waitingDialog[_0x36fa('0x4c')]();$(_0x36fa('0x76'))[_0x36fa('0xa')]();$('#tipArbolObjetivos')[_0x36fa('0xa')]();$(_0x36fa('0x9c'))[_0x36fa('0xa')]();setTimeout(function(){html2canvas($(_0x36fa('0x9d')),{'onrendered':function(_0x59a417){theCanvas=_0x59a417;var _0x713c1d=theCanvas['toDataURL']();var _0x463342=_0x713c1d[_0x36fa('0x9e')](/^data:image\/png/,'data:application/octet-stream');_0x12277e[_0x36fa('0x9b')]['imagen']=_0x713c1d;console[_0x36fa('0x90')](_0x12277e['ObjArbol'][_0x36fa('0x9f')]);_0x102197[_0x36fa('0xa0')](_0x12277e[_0x36fa('0x9b')],function(_0x2fd8c5){if(_0x2fd8c5[_0x36fa('0x4a')]){waitingDialog[_0x36fa('0xa')]();swal({'text':'Registro\x20Exitoso','confirmButtonColor':'#238276','width':_0x36fa('0xa1')});$('#TabObjetivos')[_0x36fa('0x7')](_0x36fa('0x8'),![]);_0x12277e[_0x36fa('0xa2')]();}});}});},0x1f4);};var _0x14b7d8=0x0;var _0x3b4776=[];_0x12277e[_0x36fa('0xa3')]=[];_0x12277e[_0x36fa('0xa2')]=function(){$('#ArbolObjetivos')[_0x36fa('0xa')]();$(_0x36fa('0xb'))[_0x36fa('0xa')]();$(_0x36fa('0x9'))[_0x36fa('0x4c')]();waitingDialog[_0x36fa('0x4c')]();$('#resultados')[_0x36fa('0x7')](_0x36fa('0x8'),![]);$(_0x36fa('0xa4'))[_0x36fa('0xa5')](_0x36fa('0x3c'),'none');$(_0x36fa('0xa6'))[_0x36fa('0xa5')]('display',_0x36fa('0x3e'));$('.notify')['hide']();var _0x4d2a23=document[_0x36fa('0x11')](_0x36fa('0x12'));_0x4d2a23[_0x36fa('0x14')]();var _0x2f66e3=document['getElementById'](_0x36fa('0x15'));_0x2f66e3[_0x36fa('0x14')]();if(_0x14b7d8==0x0){if(_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')][_0x36fa('0x4b')]<0x5){_0x102197[_0x36fa('0x6f')](_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')]['id'],function(_0x533faa){if(_0x533faa[_0x36fa('0x4a')]){_0x12277e[_0x36fa('0xa7')]=_0x533faa[_0x36fa('0x4e')];_0x12277e['medios']=_0x533faa['ArbolFinal'][_0x36fa('0x74')];if(_0x12277e[_0x36fa('0xa3')][_0x36fa('0x26')]==0x0){$[_0x36fa('0x54')](_0x533faa[_0x36fa('0xa8')],function(_0x16c0a4,_0x19851a){_0x12277e[_0x36fa('0xa3')][_0x36fa('0x62')]({'medio':_0x19851a});});}}});waitingDialog[_0x36fa('0xa')]();}else{_0x102197[_0x36fa('0xa9')](_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')]['id'],function(_0x3f9861){if(_0x3f9861['success']){_0x12277e[_0x36fa('0xa7')][_0x36fa('0x70')]=_0x3f9861[_0x36fa('0xaa')][_0x36fa('0x70')];_0x12277e[_0x36fa('0xa3')]=[];$[_0x36fa('0x54')](_0x3f9861[_0x36fa('0xa8')],function(_0x4f38ca,_0x28b82){_0x12277e[_0x36fa('0xa3')][_0x36fa('0x62')]({'medio':_0x28b82[_0x36fa('0xab')]});});}waitingDialog['hide']();});$(_0x36fa('0xac'))[_0x36fa('0xa')]();$(_0x36fa('0xad'))['css']({'margin-left':_0x36fa('0xae')});$('#tituloObjetivoGeneral')['css']({'margin-left':_0x36fa('0xaf')});}}waitingDialog[_0x36fa('0xa')]();};_0x12277e[_0x36fa('0xb0')]=function(){$(_0x36fa('0xb1'))[_0x36fa('0xa')]();$(_0x36fa('0xb2'))[_0x36fa('0x4c')]();$(_0x36fa('0x9'))[_0x36fa('0xa')]();$('#vistaResultados')[_0x36fa('0xa')]();$(_0x36fa('0xb3'))[_0x36fa('0xa')]();var _0x28f1a1=document[_0x36fa('0x11')](_0x36fa('0x13'));_0x28f1a1[_0x36fa('0x14')]();var _0x303a6=document[_0x36fa('0x11')](_0x36fa('0x15'));_0x303a6[_0x36fa('0x14')]();};_0x12277e[_0x36fa('0xb4')]=function(){$(_0x36fa('0xb2'))[_0x36fa('0xa')]();$(_0x36fa('0x9'))[_0x36fa('0xa')]();$('#vistaResultados')[_0x36fa('0x4c')]();$(_0x36fa('0xb3'))[_0x36fa('0xa')]();$(_0x36fa('0xb1'))[_0x36fa('0xa')]();waitingDialog[_0x36fa('0x4c')]();var _0x499499=document[_0x36fa('0x11')](_0x36fa('0x12'));_0x499499[_0x36fa('0x14')]();var _0x3478a6=document[_0x36fa('0x11')](_0x36fa('0x13'));_0x3478a6[_0x36fa('0x14')]();if(_0x14b7d8==0x0){if(_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')][_0x36fa('0x4b')]<0x5){_0x102197[_0x36fa('0x6f')](_0x3d5eea[_0x36fa('0xd')][_0x36fa('0xe')]['id'],function(_0x2b0a5d){if(_0x2b0a5d[_0x36fa('0x4a')]){_0x12277e[_0x36fa('0xb5')]=[];$[_0x36fa('0x54')](_0x12277e[_0x36fa('0xb6')],function(_0x6ed68a,_0x4870ce){for(var _0x595f58=0x0;_0x595f58<0x3;_0x595f58++){if(_0x4870ce[_0x36fa('0x75')][_0x595f58]!=''){_0x12277e[_0x36fa('0xb5')][_0x36fa('0x62')]({'idMedio':_0x6ed68a,'medioIndirectos':_0x4870ce[_0x36fa('0x75')][_0x595f58],'Resultado':'','Herramienta':'','Producto':''});}else{_0x12277e[_0x36fa('0xb5')][_0x36fa('0x62')]({'idMedio':_0x4870ce[_0x36fa('0xb7')],'medioIndirectos':'','Resultado':'','Herramienta':'','Producto':''});}}});$('#Btnguardar')[_0x36fa('0xa5')]({'display':'block'});}});waitingDialog['hide']();}else{_0x102197[_0x36fa('0xa9')](_0x3d5eea['proyecto']['datos']['id'],function(_0x154f8d){if(_0x154f8d['success']){_0x12277e['Objetivos'][_0x36fa('0x70')]=_0x154f8d[_0x36fa('0xaa')][_0x36fa('0x70')];_0x12277e[_0x36fa('0xb8')]=_0x154f8d[_0x36fa('0xaa')][_0x36fa('0xa7')];_0x12277e[_0x36fa('0xb6')]=[];_0x12277e[_0x36fa('0xb5')]=[];$[_0x36fa('0x54')](_0x154f8d['Especificos'],function(_0x79bd37,_0x2b8a33){_0x12277e[_0x36fa('0xb6')][_0x36fa('0x62')]({'Medio':_0x2b8a33[_0x36fa('0xab')],'MediosIndirectos':_0x79bd37});$[_0x36fa('0x54')](_0x12277e[_0x36fa('0xb8')],function(_0x2f186a,_0x269b56){if(_0x269b56['ObjetivoEsp']==_0x2b8a33[_0x36fa('0xab')]){_0x12277e[_0x36fa('0xb5')][_0x36fa('0x62')]({'idMedio':_0x79bd37,'medioIndirectos':_0x269b56[_0x36fa('0xb9')],'Resultado':_0x269b56[_0x36fa('0xba')],'Herramienta':_0x269b56[_0x36fa('0xbb')],'Producto':_0x269b56['ProductoResultado']});}});});$(_0x36fa('0xbc'))[_0x36fa('0xa5')]({'display':'none'});waitingDialog[_0x36fa('0xa')]();}});}}waitingDialog[_0x36fa('0xa')]();_0x14b7d8++;};_0x12277e['guardarObjetivos']=function(){var _0x16f4f9=$(_0x36fa('0xac'))['val']();_0x12277e[_0x36fa('0xbd')][_0x36fa('0x70')]=_0x16f4f9+'\x20'+_0x12277e[_0x36fa('0xa7')][_0x36fa('0x70')];_0x12277e['ObjetivosFinales1']=[];$[_0x36fa('0x54')](_0x12277e[_0x36fa('0xb5')],function(_0xb3b232,_0x2a37d3){if(_0xb3b232<0x3){var _0x421dd5=0x0;}if(_0xb3b232>=0x3&&_0xb3b232<0x6){var _0x421dd5=0x1;}if(_0xb3b232>=0x6&&_0xb3b232<0x9){var _0x421dd5=0x2;}if(_0xb3b232>=0x9&&_0xb3b232<0xc){var _0x421dd5=0x3;}if(_0xb3b232>=0xc){var _0x421dd5=0x4;}if(_0x2a37d3[_0x36fa('0xbe')]!=undefined){_0x12277e[_0x36fa('0xbf')][_0x36fa('0x62')]({'ObjetivoEsp':_0x12277e['medios1'][_0x421dd5][_0x36fa('0xc0')][_0x36fa('0xc1')](),'Resultado1':_0x2a37d3[_0x36fa('0xbe')],'MedidaResultado':_0x2a37d3[_0x36fa('0xc2')],'HerramientaResultado':_0x2a37d3['Herramienta'],'ProductoResultado':_0x2a37d3[_0x36fa('0xc3')]});}else{_0x12277e[_0x36fa('0xbf')][_0x36fa('0x62')]({'ObjetivoEsp':_0x12277e[_0x36fa('0xa3')][_0x421dd5]['medio']['toString'](),'Resultado1':'','MedidaResultado':_0x2a37d3['Resultado'],'HerramientaResultado':_0x2a37d3[_0x36fa('0xc4')],'ProductoResultado':_0x2a37d3[_0x36fa('0xc3')]});}});_0x12277e[_0x36fa('0xbd')][_0x36fa('0xa7')]=_0x12277e[_0x36fa('0xbf')];var _0x4444e8=0x0;var _0x2f06b8=_0x12277e['ObjetivosFinales'][_0x36fa('0xa7')];$['each'](_0x2f06b8,function(_0x4fbc83,_0x183b45){if(_0x183b45[_0x36fa('0xb9')]!=''&&(_0x183b45[_0x36fa('0xba')]==''||_0x183b45[_0x36fa('0xbb')]==''||_0x183b45[_0x36fa('0xc5')]=='')){_0x4444e8++;}});if(_0x4444e8==0x0){waitingDialog[_0x36fa('0x4c')]();_0x102197[_0x36fa('0xc6')](_0x12277e[_0x36fa('0xbd')],function(_0x17094d){if(_0x17094d[_0x36fa('0x4a')]){waitingDialog[_0x36fa('0xa')]();swal({'text':_0x36fa('0xc7'),'confirmButtonColor':'#238276','width':_0x36fa('0xa1')});_0x2bd0cf['url'](_0x36fa('0xc8'));}});}else{alertify['success'](_0x36fa('0xc9'));}console[_0x36fa('0x90')](_0x12277e[_0x36fa('0xbd')]);};_0x12277e[_0x36fa('0xca')]=function(){_0x2bd0cf[_0x36fa('0xcb')](_0x36fa('0xc8'));$(_0x36fa('0xb3'))[_0x36fa('0xa')]();};}]);

ManualApp.controller('ArbolObjetivosController',
    ['$scope', '$rootScope', '$location', 'ArbolObjetivoService', '$cookies', '$cookieStore', 'MenuService', '$routeParams', '$sce',
        function ($scope, $rootScope, $location, ArbolObjetivoService, $cookies, $cookieStore, MenuService, $routeParams, $sce) {
            //location.reload();
            VideoDemo = 1;
            $("#agregar_btn").hide();

            $("#resultados").attr("disabled", "disabled");
            //LINEA PARA OCULTAR EL FORMULARIO DE OBJETIVOS
            $("#VistaObjetivos").hide();

            $("#vistaResultados").hide();
            //OBJETOS
            $scope.Arbol = {
                IdProyecto: $rootScope.proyecto.datos.id,
                IdMatriz: "",
                ProblemaGeneral: "",
                DetalleMat: [
                  {
                      Problema: "",
                      EjeX: "",
                      EjeY: "",
                      Criterio: ""
                  }
                ]
            }

            $scope.ObjArbol = {
                IdProyecto: $rootScope.proyecto.datos.id,
                ObjetivoCentral: "",
                Medios: [
                  {
                      Medio: "",
                      MediosIndirectos: [
                          {
                              indirecta: ""
                          }
                      ]
                  }
                ],
                Fines: [
                 {
                     fin: "",
                     FinesIndirectos: [
                         {
                             indirecto: ""
                         }
                     ]
                 }
                ]

            }

            $scope.Objetivos = {
                IdProyecto: $rootScope.proyecto.datos.id,
                ObjetivoCentral: "",
                Medios: [
                  {
                      Medio: "",
                      MediosIndirectos: [
                          {
                              indirecta: ""
                          }
                      ]
                  }
                ],
                Fines: [
                 {
                     fin: "",
                     FinesIndirectos: [
                         {
                             indirecto: ""
                         }
                     ]
                 }
                ]
            }

            $scope.DatosProyecto = {
                id: "",
                Tema: "",
                IdUsuario: "",
                Etapa: ""
            }

            $scope.ObjetivosFinales = {
                IdProyecto: $rootScope.proyecto.datos.id,
                ObjetivoCentral: "",
                Objetivos: {
                    IdObjetivoGeneral: "",
                    ObjetivoEsp: "",
                    Resultado1: "",
                    MedidaResultado: "",
                    HerramientaResultado: "",
                    ProductoResultado: ""
                }
            }

            //Funciòn para pausar el audio cuando se abra el video
            $scope.PauseAudio = function () {
                setTimeout(function () {
                    var audio = document.getElementById("audio-player");
                    audio.pause();
                }, 1000);

                setTimeout(function () {
                    var audio = document.getElementById("audio-player1");
                    audio.pause();
                }, 1000);

                setTimeout(function () {
                    var audio = document.getElementById("audio-player2");
                    audio.pause();
                }, 1000);
            }


            $scope.CerrarAudio = function () {
                setTimeout(function () {
                    var audio = document.getElementById("audio-player");
                    audio.pause();
                }, 1000);

                setTimeout(function () {
                    var audio = document.getElementById("audio-player1");
                    audio.pause();
                }, 1000);

                setTimeout(function () {
                    var audio = document.getElementById("audio-player2");
                    audio.pause();
                }, 1000);
            }
            //-----------------------------------------------------------------------------------------------------

            //VARIABLE PARA ACTIVAR CICLO INFINITO
            var update = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
                         window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
            var panel = document.querySelector("#panel");
            var textoPanel = document.querySelector("#mostrarPanel h6");
            var alerta = document.querySelector("#alerta");
            var panelOn = true, numEfectos, numeCausas, tipo, txtIndirecto, efecto, causa, indirecto, elementoBorrar, img3, idElementoBorrar, causaImg3, imgBorrar;
            var efectoImg3;

            //CAPTURAR UL
            efecto = document.querySelector("#efecto");
            causa = document.querySelector("#causa");
            efectoIndirectoUl = document.querySelector("#efectoIndirecto");
            causaIndirectaUl = document.querySelector("#causaIndirecta");

            //CICLO INFINITO
            function repetir() {
                //CAPTURAR LA CANTIDAD DE LI
                efectos = document.querySelectorAll("#efecto li");
                causas = document.querySelectorAll("#causa li");
                efectosIndirectos = document.querySelectorAll("#efectoIndirecto li");
                causasIndirectas = document.querySelectorAll("#causaIndirecta li")

                //CAPTURAR IMAGENES 3
                efectoImg3 = document.querySelectorAll("#imgEfecto3 img");
                causaImg3 = document.querySelectorAll("#imgCausa3 img");

                //ANCHO IMAGENES 3
                //efectos indirectos
                if (efectosIndirectos.length == 1) {
                    efectoImg3[0].style.width = 50 + "%";
                } else {
                    for (var i = 0; i < efectoImg3.length; i++) {
                        efectoImg3[i].style.width = 100 / efectos.length + "%";
                    }
                }

                //causas indirectas
                if (causasIndirectas.length == 1) {
                    causaImg3[0].style.width = 50 + "%";
                } else {
                    for (var i = 0; i < causaImg3.length; i++) {
                        causaImg3[i].style.width = 100 / causas.length + "%";
                    }
                }

                //ANCHO DE LI
                //efectos
                for (var i = 0; i < efectos.length; i++) {
                    efectos[i].style.width = 100 / efectos.length + "%";
                }
                //causas
                for (var i = 0; i < causas.length; i++) {
                    causas[i].style.width = 100 / causas.length + "%";
                }
                //efectos indirectos
                if (efectosIndirectos.length == 1) {
                    efectosIndirectos[0].style.width = 50 + "%";
                } else {
                    for (var i = 0; i < efectosIndirectos.length; i++) {
                        efectosIndirectos[i].style.width = 100 / efectos.length + "%";
                    }
                }

                //causas indirectas
                if (causasIndirectas.length == 1) {
                    causasIndirectas[0].style.width = 50 + "%";
                } else {
                    for (var i = 0; i < causasIndirectas.length; i++) {
                        causasIndirectas[i].style.width = 100 / causas.length + "%";
                    }
                }

                //ASIGNAR IMAGENES
                //efectos
                if (efectos.length != 0) {
                    document.querySelector("#imgEfecto").setAttribute("src", "img/lineaU" + efectos.length + ".png");
                } else {

                    // document.querySelector("#imgEfecto").setAttribute("src", "img/sinLinea.png");
                }
                //causas
                if (causas.length != 0) {
                    document.querySelector("#imgCausa").setAttribute("src", "img/lineaD" + causas.length + ".png");
                } else {
                    document.querySelector("#imgCausa").setAttribute("src", "img/sinLinea.png");
                }

                //efectos indirectos
                var imgEfectoIndirecto = document.querySelectorAll("#imgEfecto3 img");

                if (imgEfectoIndirecto.length != 0) {
                    for (var i = 0; i < imgEfectoIndirecto.length; i++) {
                        var total = document.querySelectorAll("#efectoIndirecto li:nth-child(" + (i + 1) + ") div");
                        if (total.length != 0) {
                            imgEfectoIndirecto[i].setAttribute("src", "img/lineaU" + total.length + ".png");
                        } else {
                            imgEfectoIndirecto[i].setAttribute("src", "img/sinLinea.png");
                        }
                    }
                }

                //causas indirectas
                var imgCausaIndirecta = document.querySelectorAll("#imgCausa3 img");

                if (imgCausaIndirecta.length != 0) {
                    for (var i = 0; i < imgCausaIndirecta.length; i++) {
                        var total = document.querySelectorAll("#causaIndirecta li:nth-child(" + (i + 1) + ") div");
                        if (total.length != 0) {
                            imgCausaIndirecta[i].setAttribute("src", "img/lineaD" + total.length + ".png");
                        } else {
                            imgCausaIndirecta[i].setAttribute("src", "img/sinLinea.png");
                        }
                    }
                }

                //ASIGANR ID´S Y NUMERO DE POSICION
                for (var i = 0; i < efectos.length; i++) {
                    efectos[i].setAttribute("id", "efecto" + (i + 1));
                    efectos[i].querySelector(".bloque div span").innerHTML = (i + 1) + ".";
                    efectoImg3[i].setAttribute("id", "efecto" + (i + 1) + "img");
                    efectosIndirectos[i].setAttribute("id", "efecto" + (i + 1) + "indirecto");
                }
                for (var i = 0; i < causas.length; i++) {
                    causas[i].setAttribute("id", "causa" + (i + 1));
                    causas[i].querySelector(".bloque div span").innerHTML = (i + 1) + ".";
                    causaImg3[i].setAttribute("id", "causa" + (i + 1) + "img");
                    causasIndirectas[i].setAttribute("id", "causa" + (i + 1) + "indirecto");

                }

                update(repetir); //entra en la funcion repetir sin salir de la misma, asi crea un ciclo infinito
            }
            update(repetir); //inicia la funcion repetir

            // FUNCIONES QUE ACTIVAN LAS VENTANAS MODALES
            // mostrar
            function modalOn(elemento) {
                //$("#modal").show();
                //$("#arbolContenedor").hide();
                document.querySelector("#modal").style.display = "block";
                document.querySelector(elemento).style.display = "block";
            }
            // ocultar
            function modalOff() {
                document.querySelector("#modal").style.display = "none";
                //$("#arbolContenedor").show();
                var elementosModal = document.querySelectorAll(".contenidoModal");
                for (var i = 0; i < elementosModal.length; i++) {
                    elementosModal[i].style.display = "none";
                }
            }

            //FUNCION DE LAS ALERTAS
            //alerta1 que dura cierto tiempo, tiene 3 parametros (la duracion es en segundos).
            function alerta1(titulo, texto, duracion) {
                alerta.style.top = "5%";
                alerta.querySelector("h3").innerHTML = titulo;
                alerta.querySelector("p").innerHTML = texto;
                setTimeout(function () {
                    alerta.style.top = "-25%";
                }, duracion * 1000)
            }

            //VARIABLES PARA LA CREACIÓN DEL ARBOL
            var contEfeIndir = 0;
            var contCuaIndir = 0;
            $scope.CausasTotales = [];
            $scope.EfectosTotales = [];
            $scope.MediosIndTotales = [];
            $scope.FinesIndTotales = [];
            $scope.CausasIndTotales = [];
            $scope.EfectosIndTotales = [];


            //VARIABLE Y FUNCIÓN PARA CONSULTAR EL PROYECTO ACTUALIZADO Y CREAR EL ARBOL DE PROBLEMAS
            $scope.IdProyecto = $rootScope.proyecto.datos.id;
            MenuService.AbrirProyecto($scope.IdProyecto, function (response) {
                if (response.success) {
                    $scope.DatosProyecto = response.proyecto;
                    $rootScope.proyecto.datos.Etapa = $scope.DatosProyecto.Etapa;
                    waitingDialog.show();
                    //FUNCIÓN PARA CONSULTAR LOS DATOS DE LA MATRIZ  Y PINTAR EL ARBOL DE PROBLEMAS
                    if ($rootScope.proyecto != undefined) {
                        if ($scope.DatosProyecto.Etapa < 4) {
                            ArbolObjetivoService.ConsultarArbolFinal($rootScope.proyecto.datos.id, function (response) {
                                if (response.success) {
                                    var problemaGeneral = response.ArbolFinal.ProblemaCentral;
                                    document.querySelector("#txtProblema").value = problemaGeneral;
                                    alerta1("Consejo.", "En el panel de la izquierda podras crear los medios y fines.", 5);

                                    //CICLO PARA CREAR LOS EFECTOS EN EL ARBOL
                                    $.each(response.ArbolFinal.Efectos, function (index, value) {

                                        img3 = document.createElement("img");
                                        elemento = document.createElement("li");
                                        elemento2 = document.createElement("li");
                                        bloque = document.createElement("div");
                                        borrar = document.createElement("div");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.Efecto;
                                        borrar.innerHTML = "<span></span><h6 class='borrarElemento' onclick='borrarElemento(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque");
                                        txtArea.setAttribute("class", "txtBloque2");
                                        txtArea.setAttribute("maxlength", "140");
                                        efecto.appendChild(elemento).appendChild(bloque).appendChild(borrar);
                                        efecto.querySelector("li:last-child div:last-child").appendChild(txtArea);
                                        document.querySelector("#imgEfecto3").appendChild(img3);
                                        document.querySelector("#efectoIndirecto").appendChild(elemento2);

                                        $.each(value.EfectoIndirecta, function (index1, value1) {
                                            $scope.EfectosIndTotales.push({ id: index, EfectoIndirecta: value.EfectoIndirecta[index1] })
                                        })


                                    });

                                    //CICLO PARA CREAR EFECTOS INDIRECTOS DEL ARBOL

                                    var indirecto1 = 0;
                                    $.each($scope.EfectosIndTotales, function (index, value) {
                                        indirecto1 = (value.id) + 1;
                                        bloque = document.createElement("div");
                                        borrar = document.createElement("span");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.EfectoIndirecta;
                                        borrar.innerHTML = "<h6 class='borrarElemento' onclick='borrarElemento2(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque2");
                                        txtArea.setAttribute("class", "txtBloque3");
                                        txtArea.setAttribute("maxlength", "140");
                                        efectoIndirectoUl.querySelector("li:nth-child(" + indirecto1 + ")").appendChild(bloque).appendChild(txtArea);
                                        efectoIndirectoUl.querySelector("li:nth-child(" + indirecto1 + ") div:last-child").appendChild(borrar);
                                    })

                                    //CICLO PARA CREAR LOS CAUSAS EN EL ARBOL
                                    $.each(response.ArbolFinal.Causas, function (index, value) {

                                        img3 = document.createElement("img");
                                        elemento = document.createElement("li");
                                        elemento2 = document.createElement("li");
                                        bloque = document.createElement("div");
                                        borrar = document.createElement("div");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.Causa;
                                        borrar.innerHTML = "<span></span><h6 class='borrarElemento' onclick='borrarElemento(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque");
                                        txtArea.setAttribute("class", "txtBloque2");
                                        txtArea.setAttribute("maxlength", "140");
                                        causa.appendChild(elemento).appendChild(bloque).appendChild(borrar);
                                        causa.querySelector("li:last-child div:last-child").appendChild(txtArea);
                                        document.querySelector("#imgCausa3").appendChild(img3);
                                        document.querySelector("#causaIndirecta").appendChild(elemento2);

                                        $.each(value.CausaIndirecta, function (index1, value1) {
                                            $scope.CausasIndTotales.push({ id: index, CausaIndirecta: value.CausaIndirecta[index1] })
                                        })
                                    });

                                    //console.log($scope.CausasIndTotales);
                                    //CICLO PARA CREAR CAUSAS INDIRECTAS DEL ARBOL
                                    var indirecto = 0;
                                    $.each($scope.CausasIndTotales, function (index, value) {
                                        indirecto = (value.id) + 1;
                                        bloque = document.createElement("div");
                                        borrar = document.createElement("span");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.CausaIndirecta;
                                        borrar.innerHTML = "<h6 class='borrarElemento' onclick='borrarElemento2(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque2");
                                        txtArea.setAttribute("class", "txtBloque3");
                                        txtArea.setAttribute("maxlength", "140");
                                        causaIndirectaUl.querySelector("li:nth-child(" + indirecto + ")").appendChild(bloque).appendChild(txtArea);
                                        causaIndirectaUl.querySelector("li:nth-child(" + indirecto + ") div:last-child").appendChild(borrar);
                                    })
                                }
                                waitingDialog.hide();
                                $("#TabObjetivos").attr("disabled", "disabled");
                            })

                        } else {
                            ArbolObjetivoService.ConsultarArbolObjetivosFinal($rootScope.proyecto.datos.id, function (response) {
                                if (response.success) {

                                    var ObjetivoCentral = response.ArbolFinal.ObjetivoCentral;
                                    document.querySelector("#txtProblema").value = ObjetivoCentral;
                                    alerta1("Consejo.", "En el panel de la izquierda podras crear los medios y fines.", 5);

                                    //CICLO PARA CREAR LOS EFECTOS EN EL ARBOL
                                    $.each(response.ArbolFinal.Fines, function (index, value) {

                                        img3 = document.createElement("img");
                                        elemento = document.createElement("li");
                                        elemento2 = document.createElement("li");
                                        bloque = document.createElement("div");
                                        borrar = document.createElement("div");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.fin;
                                        borrar.innerHTML = "<span></span><h6 class='borrarElemento' onclick='borrarElemento(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque");
                                        txtArea.setAttribute("class", "txtBloque2");
                                        txtArea.setAttribute("maxlength", "140");
                                        efecto.appendChild(elemento).appendChild(bloque).appendChild(borrar);
                                        efecto.querySelector("li:last-child div:last-child").appendChild(txtArea);
                                        document.querySelector("#imgEfecto3").appendChild(img3);
                                        document.querySelector("#efectoIndirecto").appendChild(elemento2);

                                        $.each(value.FinesIndirectos, function (index1, value1) {
                                            $scope.FinesIndTotales.push({ id: index, FinesIndirectos: value.FinesIndirectos[index1] })
                                        })
                                    });

                                    //CICLO PARA CREAR EFECTOS INDIRECTOS DEL ARBOL
                                    //console.log($scope.FinesIndTotales);
                                    var indirecto1 = 0;
                                    $.each($scope.FinesIndTotales, function (index, value) {

                                        indirecto1 = (value.id) + 1;

                                        bloque = document.createElement("div");
                                        borrar = document.createElement("span");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.FinesIndirectos;
                                        borrar.innerHTML = "<h6 class='borrarElemento' onclick='borrarElemento2(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque2");
                                        txtArea.setAttribute("class", "txtBloque3");
                                        txtArea.setAttribute("maxlength", "140");
                                        efectoIndirectoUl.querySelector("li:nth-child(" + indirecto1 + ")").appendChild(bloque).appendChild(txtArea);
                                        efectoIndirectoUl.querySelector("li:nth-child(" + indirecto1 + ") div:last-child").appendChild(borrar);
                                    })

                                    //CICLO PARA CREAR LOS CAUSAS EN EL ARBOL
                                    $.each(response.ArbolFinal.Medios, function (index, value) {

                                        img3 = document.createElement("img");
                                        elemento = document.createElement("li");
                                        elemento2 = document.createElement("li");
                                        bloque = document.createElement("div");
                                        borrar = document.createElement("div");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.Medio;
                                        borrar.innerHTML = "<span></span><h6 class='borrarElemento' onclick='borrarElemento(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque");
                                        txtArea.setAttribute("class", "txtBloque2");
                                        txtArea.setAttribute("maxlength", "140");
                                        causa.appendChild(elemento).appendChild(bloque).appendChild(borrar);
                                        causa.querySelector("li:last-child div:last-child").appendChild(txtArea);
                                        document.querySelector("#imgCausa3").appendChild(img3);
                                        document.querySelector("#causaIndirecta").appendChild(elemento2);

                                        $.each(value.MediosIndirectos, function (index1, value1) {
                                            $scope.MediosIndTotales.push({ id: index, MediosIndirectos: value.MediosIndirectos[index1] })
                                        })
                                    });

                                    //console.log($scope.MediosIndTotales);
                                    //CICLO PARA CREAR CAUSAS INDIRECTAS DEL ARBOL
                                    var indirecto = 0;
                                    $.each($scope.MediosIndTotales, function (index, value) {
                                        indirecto = (value.id) + 1;
                                        bloque = document.createElement("div");
                                        borrar = document.createElement("span");
                                        txtArea = document.createElement("textarea");
                                        txtArea.value = value.MediosIndirectos;
                                        borrar.innerHTML = "<h6 class='borrarElemento' onclick='borrarElemento2(this)'> Borrar</h6>";
                                        bloque.setAttribute("class", "bloque2");
                                        txtArea.setAttribute("class", "txtBloque3");
                                        txtArea.setAttribute("maxlength", "140");
                                        causaIndirectaUl.querySelector("li:nth-child(" + indirecto + ")").appendChild(bloque).appendChild(txtArea);
                                        causaIndirectaUl.querySelector("li:nth-child(" + indirecto + ") div:last-child").appendChild(borrar);
                                    })
                                }

                                //$("#guardar").hide();
                                $("#botonSiguienteArbol").show();
                                waitingDialog.hide();
                            })
                        }
                    }
                }
            })


            //FUNCION PARA MOSTRAR Y OCULTAR EL PANEL
            $scope.mostrarPanel = function () {
                if (panelOn) {
                    panel.style.top = "-100%";
                    textoPanel.innerHTML = "Mostrar";
                    panelOn = false;
                } else {
                    panel.style.top = "30px";
                    textoPanel.innerHTML = "Ocultar";
                    panelOn = true;
                }
            }

            //FUNCION DEL SELECT DEL PANEL
            $scope.cambioElemento = function () {
                tipo = document.querySelector("#elemento").value;
                document.querySelector("#asignarIndirecta").innerHTML = '<option value="vacio">Seleccionar...</option>'; //resetea el select de indirecta

                if (tipo == "efectoIndirecto") {
                    document.querySelector("#indirecta").style.display = "block"; //muestra el select para asignar a una indirecta
                    document.querySelector("#txtIndirecta").innerHTML = "efecto"; //coloca el texto segun la indirecta (causas o efectos)
                    for (var i = 0; i < efectos.length; i++) {
                        var option = document.createElement("option");
                        option.innerHTML = i + 1;
                        option.setAttribute("value", i + 1);
                        document.querySelector("#asignarIndirecta").appendChild(option);
                        alerta1("Consejo.", "Asiga tu efecto indirecto a un efecto según su posición.", 3);
                    }
                } else if (tipo == "causaIndirecta") {
                    document.querySelector("#indirecta").style.display = "block"; //muestra el select para asignar a una indirecta
                    document.querySelector("#txtIndirecta").innerHTML = "causa"; //coloca el texto segun la indirecta (causas o efectos)
                    for (var i = 0; i < causas.length; i++) {
                        var option = document.createElement("option");
                        option.innerHTML = i + 1;
                        option.setAttribute("value", i + 1);
                        document.querySelector("#asignarIndirecta").appendChild(option);
                        alerta1("Consejo.", "Asiga tu causa indirecta a una causa según su posición.", 3);
                    }
                } else {
                    document.querySelector("#indirecta").style.display = "none"; //esconde el select para asignar a una indirecta
                }
            }

            //BOTON CREAR DEL PANEL
            $scope.crear = function () {
                indirecto = document.querySelector("#asignarIndirecta").value;
                var elemento, txtArea, elemento2;

                if (tipo === "vacio" || tipo === undefined) { //validar si el select de tipo viene vacio
                    alerta1("Recuerda.", "Debes seleccionar un fin o un medio.", 3);
                }

                if (indirecto == "vacio" && tipo == "efectoIndirecto" || tipo == "causaIndirecta") {
                    alerta1("Recuerda.", "Debes seleccionar un fin o un medio primero.", 3);
                }

                //crear efectos
                if (tipo == "efecto" && efectos.length < 5) {
                    img3 = document.createElement("img");
                    elemento = document.createElement("li");
                    elemento2 = document.createElement("li");
                    bloque = document.createElement("div");
                    borrar = document.createElement("div");
                    txtArea = document.createElement("textarea");
                    txtArea.value = "";
                    borrar.innerHTML = "<span></span><h6 class='borrarElemento' onclick='borrarElemento(this)'> Borrar</h6>";
                    bloque.setAttribute("class", "bloque");
                    txtArea.setAttribute("class", "txtBloque2");
                    txtArea.setAttribute("maxlength", "140");
                    txtArea.setAttribute("style", "font-size:10px;");
                    efecto.appendChild(elemento).appendChild(bloque).appendChild(borrar);
                    efecto.querySelector("li:last-child div:last-child").appendChild(txtArea);
                    document.querySelector("#imgEfecto3").appendChild(img3);
                    document.querySelector("#efectoIndirecto").appendChild(elemento2);
                } else if (tipo == "efecto" && efectos.length >= 5) {
                    alerta1("Recuerda.", "Ya tienes 5 fines.", 2);
                }

                // crear causas
                if (tipo == "causa" && causas.length < 5) {
                    img3 = document.createElement("img");
                    elemento = document.createElement("li");
                    elemento2 = document.createElement("li");
                    bloque = document.createElement("div");
                    borrar = document.createElement("div");
                    txtArea = document.createElement("textarea");
                    borrar.innerHTML = "<span></span><h6 class='borrarElemento' onclick='borrarElemento(this)'> Borrar</h6>";
                    bloque.setAttribute("class", "bloque");
                    txtArea.setAttribute("class", "txtBloque2");
                    txtArea.setAttribute("maxlength", "140");
                    txtArea.setAttribute("style", "font-size:10px;");
                    causa.appendChild(elemento).appendChild(bloque).appendChild(borrar);
                    causa.querySelector("li:last-child div:last-child").appendChild(txtArea);
                    document.querySelector("#imgCausa3").appendChild(img3);
                    document.querySelector("#causaIndirecta").appendChild(elemento2);
                } else if (tipo == "causa" && causas.length >= 5) {
                    alerta1("Recuerda.", "Ya tienes 5 medios.", 2);
                }

                if (indirecto != "vacio") {
                    // crear efecto indirecto
                    if (tipo == "efectoIndirecto" && document.querySelectorAll("#efectoIndirecto li:nth-child(" + indirecto + ") div").length < 3) {
                        bloque = document.createElement("div");
                        borrar = document.createElement("span");
                        txtArea = document.createElement("textarea");
                        borrar.innerHTML = "<h6 class='borrarElemento' onclick='borrarElemento2(this)'> Borrar</h6>";
                        bloque.setAttribute("class", "bloque2");
                        txtArea.setAttribute("class", "txtBloque3");
                        txtArea.setAttribute("maxlength", "140");

                        efectoIndirectoUl.querySelector("li:nth-child(" + indirecto + ")").appendChild(bloque).appendChild(txtArea);
                        efectoIndirectoUl.querySelector("li:nth-child(" + indirecto + ") div:last-child").appendChild(borrar);

                    } else if (document.querySelectorAll("#efectoIndirecto li:nth-child(" + indirecto + ") div").length >= 3) {
                        alerta1("Recuerda.", "Ya tienes 3 fines indirectos.", 2);
                    }

                    // crear causa indirecta
                    if (tipo == "causaIndirecta" && document.querySelectorAll("#causaIndirecta li:nth-child(" + indirecto + ") div").length < 3) {
                        console.log(indirecto);
                        bloque = document.createElement("div");
                        borrar = document.createElement("span");
                        txtArea = document.createElement("textarea");
                        borrar.innerHTML = "<h6 class='borrarElemento' onclick='borrarElemento2(this)'> Borrar</h6>";
                        bloque.setAttribute("class", "bloque2");
                        txtArea.setAttribute("class", "txtBloque3");
                        txtArea.setAttribute("maxlength", "140");

                        causaIndirectaUl.querySelector("li:nth-child(" + indirecto + ")").appendChild(bloque).appendChild(txtArea);
                        causaIndirectaUl.querySelector("li:nth-child(" + indirecto + ") div:last-child").appendChild(borrar);
                    } else if (document.querySelectorAll("#causaIndirecta li:nth-child(" + indirecto + ") div").length >= 3) {
                        alerta1("Recuerda.", "Ya tienes 3 medios indirectos.", 2);
                    }
                }
            }

            //FUNCIÓN PARA GUARDAR LOS DATOS DEL ARBOL
            $scope.guardar = function () {

                var datosProblema = document.querySelector("#txtProblema").value;
                var datosEfectos = [];//ESTE ARREGLO REPRESENTA LOS FINES
                var datosCausas = [];//ESTE ARREGLO REPRESENTA LOS MEDIOS
                var datosEfectosIndirectos = [];//ESTE ARREGLO REPRESENTA LOS FINES INDIRECTOS
                var datosCausasIndirectos = [];//ESTE ARREGLO REPRESENTA LOS MEDIOS INDIRECTOS

                for (var i = 0; i < efectos.length; i++) {
                    var FinesVacios = document.querySelector("#efecto li:nth-child(" + (i + 1) + ") textarea").value;
                    if (FinesVacios != "") {
                        datosEfectos[i] = document.querySelector("#efecto li:nth-child(" + (i + 1) + ") textarea").value;
                    } else {
                        alertify.success("Ups! tienes algún fin vacio");
                        return;
                    }
                }

                for (var i = 0; i < causas.length; i++) {
                    var MediosVacios = datosCausas[i] = document.querySelector("#causa li:nth-child(" + (i + 1) + ") textarea").value
                    if (MediosVacios != "") {
                        datosCausas[i] = document.querySelector("#causa li:nth-child(" + (i + 1) + ") textarea").value;
                    } else {
                        alertify.success("Ups! tienes algún medio vacio");
                        return;
                    }
                }

                for (var i = 0; i < efectos.length; i++) {
                    var cadaLiIndirecto = [];

                    for (var e = 0; e < document.querySelectorAll("#efecto" + (i + 1) + "indirecto div").length; e++) {
                        var FinIndirectoVacios = cadaLiIndirecto[e] = document.querySelector("#efecto" + (i + 1) + "indirecto div:nth-child(" + (e + 1) + ") textarea").value;

                        if (FinIndirectoVacios != "") {
                            cadaLiIndirecto[e] = document.querySelector("#efecto" + (i + 1) + "indirecto div:nth-child(" + (e + 1) + ") textarea").value;
                        } else {
                            alertify.success("Ups! tienes algún fin indirecto vacio");
                            return;
                        }
                    }
                    datosEfectosIndirectos.push(cadaLiIndirecto);
                }

                for (var i = 0; i < causas.length; i++) {
                    var cadaLiIndirecto = [];

                    for (var e = 0; e < document.querySelectorAll("#causa" + (i + 1) + "indirecto div").length; e++) {
                        var MedioIndirectosVacios = cadaLiIndirecto[e] = document.querySelector("#causa" + (i + 1) + "indirecto div:nth-child(" + (e + 1) + ") textarea").value;
                        if (MedioIndirectosVacios != "") {
                            cadaLiIndirecto[e] = document.querySelector("#causa" + (i + 1) + "indirecto div:nth-child(" + (e + 1) + ") textarea").value;
                        } else {
                            alertify.success("Ups! tienes algún medio indirecto vacia");
                            return;
                        }
                    }
                    datosCausasIndirectos.push(cadaLiIndirecto);
                }

                $scope.ObjArbol.ObjetivoCentral = datosProblema;
                $.each(datosCausas, function (index, value) {
                    if (value != "") {
                        $scope.ObjArbol.Medios.push({ Medio: value, MediosIndirectos: datosCausasIndirectos[index] })
                    }
                })
                $.each(datosEfectos, function (index, value) {

                    $scope.ObjArbol.Fines.push({ fin: value, FinesIndirectos: datosEfectosIndirectos[index] })
                })
                waitingDialog.show();

                //$("#guardar").hide();
                $("#tipArbolObjetivos").hide();
                $(".borrarElemento").hide();

                setTimeout(function () {

                    html2canvas($("#arbolContenedor"), {
                        onrendered: function (canvas) {
                            theCanvas = canvas;
                            //  document.body.appendChild(canvas);

                            var imgageData = theCanvas.toDataURL();
                            // Now browser starts downloading it instead of just showing it
                            var newData = imgageData.replace(/^data:image\/png/, "data:application/octet-stream");
                            $scope.ObjArbol.imagen = imgageData;
                            console.log($scope.ObjArbol.imagen);
                            ArbolObjetivoService.GuardarDatosArbol($scope.ObjArbol, function (response) {

                                if (response.success) {
                                    waitingDialog.hide();
                                    swal({
                                        text: 'Registro Exitoso',
                                        confirmButtonColor: '#238276',
                                        width: '25%',
                                    })

                                    //$scope.ocultarArbol();
                                    $("#TabObjetivos").attr("disabled", false);
                                    $scope.ocultarArbol();
                                }
                            })
                        }
                    });
                }, 500);
            }
            //document.querySelector("#guardar").addEventListener("click", function () {
            //});

            //VARIABLE PARA VALIDAR CUANDO YA INGRESO LA PRIMERA VEZ A LA VISTA DE RESULTADOS
            var contador = 0;
            var medios10 = [];
            $scope.medios1 = []
            //FUNCION PARA PASAR DEL ABROL A LA VISTA DE OBJETIVO GENERAL Y ESPECIFICO.
            $scope.ocultarArbol = function () {
                $("#ArbolObjetivos").hide();
                $("#vistaResultados").hide();
                $("#VistaObjetivos").show();
                waitingDialog.show();
                $("#resultados").attr("disabled", false);
                $('#audioAyudaCuatro').css("display", "none");
                $('#audioAyudaSeis').css("display", "none");
                $(".notify").hide();
                var audio = document.getElementById("audio-player");
                audio.pause();
                var audio2 = document.getElementById("audio-player2");
                audio2.pause();

                if (contador == 0) {
                    if ($rootScope.proyecto.datos.Etapa < 5) {
                        ArbolObjetivoService.ConsultarArbolObjetivosFinal($rootScope.proyecto.datos.id, function (response) {
                            if (response.success) {
                                $scope.Objetivos = response.ArbolFinal;
                                $scope.medios = response.ArbolFinal.Medios;
                                //$scope.medios1 = response.Especificos;
                                if ($scope.medios1.length == 0) {
                                    $.each(response.Especificos, function (index, value) {

                                        $scope.medios1.push({ medio: value });
                                    })
                                }
                            }
                        })
                        waitingDialog.hide();
                    } else {
                        ArbolObjetivoService.ConsultarDatosObjetivos($rootScope.proyecto.datos.id, function (response) {
                            if (response.success) {
                                $scope.Objetivos.ObjetivoCentral = response.DatosObjetivos.ObjetivoCentral;

                                $scope.medios1 = [];
                                //$scope.medios1 = response.Especificos;
                                $.each(response.Especificos, function (index, value) {

                                    $scope.medios1.push({ medio: value.ObjetivoEsp });
                                })
                            }
                            waitingDialog.hide();
                        })

                        $("#verbo").hide();
                        $("#campoObjetivoGeneral").css({ "margin-left": "-10%" });
                        $("#tituloObjetivoGeneral").css({ "margin-left": "18%" });
                    }
                }
                waitingDialog.hide();
            }


            //FUNCION PARA REGRESAR  A LA VISTA DEL ARBOL DE OBJETIVOS. 
            $scope.ocultarObjetivos = function () {
                $("#audioAyudaCinco").hide();
                $("#ArbolObjetivos").show();
                $("#VistaObjetivos").hide();
                $("#vistaResultados").hide();
                $(".notify").hide();
                var audio = document.getElementById("audio-player1");
                audio.pause();
                var audio1 = document.getElementById("audio-player2");
                audio1.pause();


            }

            //$scope.medio1 = "";

            //FUNCION PARA PASAR DE LA VISTA OBJETIVOS A RESULTADOS.
            $scope.mostrarResultados = function () {

                $("#ArbolObjetivos").hide();
                $("#VistaObjetivos").hide();
                $("#vistaResultados").show();
                $(".notify").hide();
                $("#audioAyudaCinco").hide();
                waitingDialog.show();
                var audio = document.getElementById("audio-player");
                audio.pause();
                var audio1 = document.getElementById("audio-player1");
                audio1.pause();

                if (contador == 0) {
                    if ($rootScope.proyecto.datos.Etapa < 5) {
                        ArbolObjetivoService.ConsultarArbolObjetivosFinal($rootScope.proyecto.datos.id, function (response) {
                            if (response.success) {
                                //$scope.medios = response.ArbolFinal.Medios;
                                $scope.mediosIndirectos = [];
                                $.each($scope.medios, function (index, value) {

                                    for (var i = 0; i < 3; i++) {
                                        if (value.MediosIndirectos[i] != "") {
                                            $scope.mediosIndirectos.push({ idMedio: index, medioIndirectos: value.MediosIndirectos[i], Resultado: "", Herramienta: "", Producto: "" })
                                        } else {
                                            $scope.mediosIndirectos.push({ idMedio: value.Medio, medioIndirectos: "", Resultado: "", Herramienta: "", Producto: "" })
                                        }
                                    }
                                })
                                //console.log($scope.mediosIndirectos);
                                $("#Btnguardar").css({ "display": "block" });
                            }
                        })
                        waitingDialog.hide();
                    } else {

                        ArbolObjetivoService.ConsultarDatosObjetivos($rootScope.proyecto.datos.id, function (response) {
                            if (response.success) {
                                $scope.Objetivos.ObjetivoCentral = response.DatosObjetivos.ObjetivoCentral;
                                $scope.prueba = response.DatosObjetivos.Objetivos

                                $scope.medios = [];
                                $scope.mediosIndirectos = [];
                         
                                $.each(response.Especificos, function (index, value1) {

                                    $scope.medios.push({ Medio: value1.ObjetivoEsp, MediosIndirectos: index });
                                    var cont = 0;
                                    var faltantes = 0;
                                    $.each($scope.prueba, function (index1, value) {

                                        if (cont <= 3) {
                                            
                                            if (value1.IdObjetivoEsp == value.IdObjetivoEsp) {
                                                $scope.mediosIndirectos.push({ idMedio: index, medioIndirectos: value.Resultado1, Resultado: value.MedidaResultado, Herramienta: value.HerramientaResultado, Producto: value.ProductoResultado })
                                                cont++;
                                            } else {
                                                //$scope.mediosIndirectos.push({ idMedio: index, medioIndirectos: "", Resultado: "", Herramienta: "", Producto: "" })
                                            }
                                        }
                                    });

                                    //Se resta 3 que es el maximo de campos con la cantidad de campos que ya se agregaron
                                    faltantes = 3 - cont;
                                    if (faltantes >= 0) {
                                        // Se agregan los campos faltantes
                                        for (var i = 1; i <= faltantes; i++) {
                                            $scope.mediosIndirectos.push({ idMedio: index, medioIndirectos: "", Resultado: "", Herramienta: "", Producto: "" })
                                        }
                                    } else {
                                        
                                        for (var i = 1; i <= 3; i++) {
                                            $scope.mediosIndirectos.push({ idMedio: index, medioIndirectos: "", Resultado: "", Herramienta: "", Producto: "" })
                                        }
                                    }
                                    cont = 0;
                                });
                                //console.log($scope.prueba);
                                //console.log(response.Especificos);
                                //console.log($scope.medios);
                                //console.log($scope.mediosIndirectos);
                                console.log($scope.prueba);
                                console.log(response.Especificos);
                                //$("#Btnguardar").css({ "display": "none" });
                                waitingDialog.hide();
                            }
                        })
                    }
                }
                waitingDialog.hide();
                contador++;
            }


            //FUNCION PARA GUARDAR TODOS LOS DATOS DE OBJETIVOS.
            $scope.guardarObjetivos = function () {

                var verbo = $("#verbo").val();
                //$scope.ObjetivosFinales.ObjetivoCentral = verbo + " " + $scope.Objetivos.ObjetivoCentral;
                if ($('#verbo').is(":visible")) {
                    $scope.ObjetivosFinales.ObjetivoCentral = verbo + " " + $scope.Objetivos.ObjetivoCentral;
                } else {
                    $scope.ObjetivosFinales.ObjetivoCentral = $("#campoObjetivoGeneral").val();
                }

                $scope.ObjetivosFinales1 = [];
                $.each($scope.mediosIndirectos, function (index, value) {

                    if (index < 3) {
                        var posicion = 0;
                    } if (index >= 3 && index < 6) {
                        var posicion = 1;
                    } if (index >= 6 && index < 9) {
                        var posicion = 2;
                    } if (index >= 9 && index < 12) {
                        var posicion = 3;
                    } if (index >= 12) {
                        var posicion = 4;
                    }

                    if (value.medioIndirectos != undefined) {


                        $scope.ObjetivosFinales1.push({ ObjetivoEsp: $scope.medios1[posicion].medio.toString(), Resultado1: value.medioIndirectos, MedidaResultado: value.Resultado, HerramientaResultado: value.Herramienta, ProductoResultado: value.Producto })

                    } else {
                        $scope.ObjetivosFinales1.push({ ObjetivoEsp: $scope.medios1[posicion].medio.toString(), Resultado1: "", MedidaResultado: value.Resultado, HerramientaResultado: value.Herramienta, ProductoResultado: value.Producto })

                    }
                })
                $scope.ObjetivosFinales.Objetivos = $scope.ObjetivosFinales1;

                var con = 0;
                var recorrer = $scope.ObjetivosFinales.Objetivos;
                $.each(recorrer, function (index, value) {

                    if (value.Resultado1 != "" && (value.MedidaResultado == "" || value.HerramientaResultado == "" || value.ProductoResultado == "")) {
                        con++;
                    }
                })

                if (con == 0) {
                    waitingDialog.show();
                    ArbolObjetivoService.GuardarObjetivos($scope.ObjetivosFinales, function (response) {
                        if (response.success) {
                            waitingDialog.hide();

                            swal({
                                text: 'Registro Exitoso',
                                confirmButtonColor: '#238276',
                                width: '25%',
                            })

                            $location.url("/Menu");
                        }
                    });

                } else {
                    alertify.success("Ups! Debes completar los campos de cada resultado esperado.");
                }
                console.log($scope.ObjetivosFinales)

            }

            $scope.atras = function () {

                $location.url("/Menu");
                $(".notify").hide();

            }

            $scope.GuardarObjetivosEspecificos = function () {

                $scope.ObjetivosEspe = [];

          
                    var verbo = $("#verbo").val();

                    if ($('#verbo').is(":visible")) {
                        $scope.ObjetivosFinales.ObjetivoCentral = verbo + " " + $scope.Objetivos.ObjetivoCentral;
                    } else {
                        $scope.ObjetivosFinales.ObjetivoCentral =  $scope.Objetivos.ObjetivoCentral;
                    }
                    
            

                $.each($scope.medios1, function (index, value) {
                    if (value.IdObjetivoEsp != 0) {
                        $scope.ObjetivosEspe.push({ IdObjetivoEsp: value.IdObjetivoEsp, ObjetivoEsp: value.medio, IdProyecto: $rootScope.proyecto.datos.id, ObjetivoCentral: $scope.Objetivos.ObjetivoCentral })
                    } else {
                        $scope.ObjetivosEspe.push({ IdObjetivoEsp: 0, ObjetivoEsp: value.medio, IdProyecto: $rootScope.proyecto.datos.id, ObjetivoCentral: $scope.Objetivos.ObjetivoCentral })
                    }

                })

                waitingDialog.show();
                ArbolObjetivoService.GuardarObjetivosEspecificos($scope.ObjetivosEspe, function (response) {
                    if (response.success) {
                        waitingDialog.hide();

                        swal({
                            text: 'Registro Exitoso',
                            confirmButtonColor: '#238276',
                            width: '25%',
                        })

                        $scope.mostrarResultados();
                    }
                });
            }
        }]);